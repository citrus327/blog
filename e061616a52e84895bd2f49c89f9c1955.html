<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="React Notion X Minimal Demo"/><title>useSelector 导致的无意义 re-render 问题记录</title><meta name="next-head-count" content="4"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/blog/_next/static/css/e80d3da29db4d5c2.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/e80d3da29db4d5c2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/blog/_next/static/chunks/94b3d469.01f0b81f57fec31d.js"></script><script defer="" src="/blog/_next/static/chunks/78.e2fa1ad1735022d1.js"></script><script defer="" src="/blog/_next/static/chunks/785.f9522e486e3cf112.js"></script><script src="/blog/_next/static/chunks/webpack-c10d1318d0451db8.js" defer=""></script><script src="/blog/_next/static/chunks/framework-459f2affe0a6a60f.js" defer=""></script><script src="/blog/_next/static/chunks/main-12dc9115bd27a2f8.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-ca60221c825fc339.js" defer=""></script><script src="/blog/_next/static/chunks/571-e33bda93c073246d.js" defer=""></script><script src="/blog/_next/static/chunks/pages/%5BpageId%5D-c9611068cade4702.js" defer=""></script><script src="/blog/_next/static/jGOT37qpO3qldfkcBz3lx/_buildManifest.js" defer=""></script><script src="/blog/_next/static/jGOT37qpO3qldfkcBz3lx/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="notion notion-app light-mode notion-block-e061616a52e84895bd2f49c89f9c1955"><div class="notion-viewport"></div><div class="notion-frame"><header class="notion-header"><div class="notion-nav-header"><div class="breadcrumbs"><a class="breadcrumb" href="/blog/35a3a4f93d7a4cb89e0f18ed63907dcf"><div class="notion-page-icon-inline notion-page-icon-span"><img class="icon notion-page-icon" src="https://www.notion.so/icons/glasses_red.svg?mode=light" alt="Citrus327’s Blog" loading="lazy" decoding="async"/></div><span class="title">Citrus327’s Blog</span></a><span class="spacer">/</span><div class="breadcrumb active"><span class="title">useSelector 导致的无意义 re-render 问题记录</span></div></div></div></header><div class="notion-page-scroller"><main class="notion-page notion-page-no-cover notion-page-no-icon notion-page-has-text-icon notion-full-page"><h1 class="notion-title">useSelector 导致的无意义 re-render 问题记录</h1><!--$--><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"></div></div></div><!--/$--><div class="notion-page-content"><article class="notion-page-content-inner"><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-bcbe453a09bb4b728d044b0f5c061cd8" data-id="bcbe453a09bb4b728d044b0f5c061cd8"><span><div id="bcbe453a09bb4b728d044b0f5c061cd8" class="notion-header-anchor"></div><a class="notion-hash-link" href="#bcbe453a09bb4b728d044b0f5c061cd8" title="useSelector 导致的无意义 re-render 问题记录"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">useSelector 导致的无意义 re-render 问题记录</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-c9fbd16a8b0b400489229b7aa5963316" data-id="c9fbd16a8b0b400489229b7aa5963316"><span><div id="c9fbd16a8b0b400489229b7aa5963316" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c9fbd16a8b0b400489229b7aa5963316" title="简介"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">简介</span></span></h3><div class="notion-text notion-block-5ed1909bbdf444238a2ca269d00e59d2">简述最近碰到的一次 re-render 问题，解决思路，以及后续的解决方案。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-5f501a7883be4bdf970e44d899b79483" data-id="5f501a7883be4bdf970e44d899b79483"><span><div id="5f501a7883be4bdf970e44d899b79483" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5f501a7883be4bdf970e44d899b79483" title="问题"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">问题</span></span></h3><div class="notion-text notion-block-aa5b81718b92491e9b772d4b45aee471">某些组件在不应该 re-render 的情况下，n 次 re-render</div><div class="notion-text notion-block-dbd51183099a4057a91d85af11589cc2">组件具备以下特性</div><ul class="notion-list notion-list-disc notion-block-a9af3ec6b6724a13b60a6dbe4981f806"><li>无 props</li></ul><ul class="notion-list notion-list-disc notion-block-8c7d07c8cc214f169dee89249c92cf01"><li>数据均订阅至 redux store</li></ul><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-44217b7c88fd4f1885cd7b0f9ddebd5b" data-id="44217b7c88fd4f1885cd7b0f9ddebd5b"><span><div id="44217b7c88fd4f1885cd7b0f9ddebd5b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#44217b7c88fd4f1885cd7b0f9ddebd5b" title="思路描述"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">思路描述</span></span></h3><div class="notion-text notion-block-7409671073fd4e9a81c56ab7036cf36e">一个组件被更新并 re-render，无非</div><ul class="notion-list notion-list-disc notion-block-d4e368da815640b0b15465be925361a6"><li>父组件更新导致子组件 re-render</li></ul><ul class="notion-list notion-list-disc notion-block-b4b2c11bb38c4d878479bc2c77063e9f"><li>组件的 local state 更新</li></ul><ul class="notion-list notion-list-disc notion-block-eb1ebaeadb9f4d5aa92585f9363aafa2"><li>组件的 props 更新</li></ul><ul class="notion-list notion-list-disc notion-block-9986638159324d6fafd6986bd1f808c0"><li>组件订阅的 global state 更新，触发组件 re-render</li></ul><div class="notion-text notion-block-127d5918e2504c63815413d55e6a4840">经查证父组件、local state 等，只有第四条符合组件被 re-render 的可能性。组件内均通过 useSelector 进行 global state 的绑定（订阅）</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-fa0d04962e314460a79ea1a007f51870" data-id="fa0d04962e314460a79ea1a007f51870"><span><div id="fa0d04962e314460a79ea1a007f51870" class="notion-header-anchor"></div><a class="notion-hash-link" href="#fa0d04962e314460a79ea1a007f51870" title="定位问题"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">定位问题</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-eb7ad29882274cf99776f188aebd78d6" data-id="eb7ad29882274cf99776f188aebd78d6"><span><div id="eb7ad29882274cf99776f188aebd78d6" class="notion-header-anchor"></div><a class="notion-hash-link" href="#eb7ad29882274cf99776f188aebd78d6" title="useSelector 文档"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">useSelector 文档</span></span></h4><div class="notion-text notion-block-84ac7e4bf0fb4d0b87cc8da757b73ab2">通过重新查看 redux useSelector 的<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://react-redux.js.org/api/hooks#equality-comparisons-and-updates">api 文档</a>发现。</div><blockquote class="notion-quote notion-block-4a232c48866b4daeb0858c77312308fe"><div>With useSelector(), returning a new object every time will always force a re-render by default.</div></blockquote><div class="notion-text notion-block-09c425bcabb745a9873003d5e1d47903">当 useSelector 返回一个新的对象，会强制 re-render。</div><div class="notion-text notion-block-5ae25a3b8d374bde95c196003f7d73fe">一个 store 对象在任意 action 被 dispatch 之后，根据 flux 的规范，需要返回一个完整的 store 对象。</div><div class="notion-text notion-block-ede2562853374e82825c31d2a857401e">这句话等同于：store 内容本身的指针在每次 dispatch 后会更新为新的指针，除了 dispatch 的 actions 相关的 key 会变更，其他的 state 均为 merge 操作（不考虑 primitive 类型，仅考虑引用，因为 primitive 在进行 strict equal 时较为简单明了）</div><div class="notion-text notion-block-ac7724d35ab0481296426bf8f782175f">使用一个简单的 reducer 举例</div><div class="notion-text notion-block-00708d1928ce45e7a98c50db0d13a8e2">例如：</div><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const setObj = (
  state,
  payload,,
) =&gt; ({
  ...state,
  obj: payload,
})</code></pre><!--/$--><div class="notion-text notion-block-2a7eae8707c944febebfe4646607d7ed">以上 setObj action 被 dispatch 后，会设置一个新的 obj，及为一个新的指针</div><div class="notion-text notion-block-f52ac0ae1a74460e8a35b9fb2fec2e9a">使用</div><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const obj = useSelector((store) =&gt; store.obj);</code></pre><!--/$--><div class="notion-text notion-block-428e7d02d7bf46f2bfe307d2f28ea41f">当执行<code class="notion-inline-code">dispatch.store.setObj(data)</code>后, obj 的指针本身会变化。达到了订阅的目的。</div><div class="notion-text notion-block-32e02665a0644982a16d03f61273c356">到目前为止都没有问题，结合上文说到的</div><blockquote class="notion-quote notion-block-c43e50ea02c74a1582aee88479a50158"><div>With useSelector(), returning a new object every time will always force a re-render by default.</div></blockquote><div class="notion-text notion-block-3339264972ea49d797f8fb0cffbff047">obj 变更时，obj 确实为一个新的对象，会触发一次 re-render</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-15456fd78b7e46acb63b5ec9dbd0bafb" data-id="15456fd78b7e46acb63b5ec9dbd0bafb"><span><div id="15456fd78b7e46acb63b5ec9dbd0bafb" class="notion-header-anchor"></div><a class="notion-hash-link" href="#15456fd78b7e46acb63b5ec9dbd0bafb" title="多个 useSelector 的使用"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">多个 useSelector 的使用</span></span></h4><div class="notion-text notion-block-3cc7edf5e403491e8060c7230ce34ff5">假设 store 内有 2 个 obj，且某个组件对这 2 个 obj 均进行订阅</div><div class="notion-text notion-block-14c146c82937488fa89aad5d9eb94e99">例：</div><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const TestComponent = () =&gt; {
  const { objA, ObjB } = useSelector((store) =&gt; {
    return {
      objA: store.objA,
      objB: store.objB,
    };
  });
  // ...
};</code></pre><!--/$--><div class="notion-text notion-block-4a6fb424e82b460690eb4564c760e05c">如果使用上文写法，会造成无意义的 re-render 问题</div><div class="notion-text notion-block-369f61a0446e47239c5f66eca837dbb9">再次阅读 redux 关于 useSelector 的文档</div><blockquote class="notion-quote notion-block-e3a09392f6844e41b7a3f12190641cf7"><div>With useSelector(), returning a new object every time will always force a re-render by default.</div></blockquote><div class="notion-text notion-block-37408e8f913c48869e09ff534b0ae55f">当 useSelector 被执行后，这个钩子会比对此次 selector 调用与上次 selector 调用的结果进行比对，并进行===的 strict equal，参考文档：</div><blockquote class="notion-quote notion-block-e6abed728ef449559043aa67cb00e586"><div>However, when an action is dispatched to the Redux store, useSelector() only forces a re-render if the selector result appears to be different than the last result. As of v7.1.0-alpha.5, the default comparison is a strict === reference comparison. This is different than connect(), which uses shallow equality checks on the results of mapState calls to determine if re-rendering is needed. This has several implications on how you should use useSelector().</div></blockquote><div class="notion-text notion-block-436d9b2c958a4be1a06a87b3119961fc">回到例子</div><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const TestComponent = () =&gt; {
  const { objA, ObjB } = useSelector((store) =&gt; {
    // 这个selector每次调用都返回新的对象
    return {
      objA: store.objA,
      objB: store.objB,
    };
  });
  // ...
};</code></pre><!--/$--><div class="notion-text notion-block-c5768307fe5449b38d91bbedbc220cca">这也就符合了文档上描述的 always force a re-render by default</div><div class="notion-text notion-block-2cb375d9a53d455ea5afe6a3ceb7b241">也就是说当前 store 作用域内（Provider 内），任意一个 action 被 dispatch，例子中的 selector 被执行后每次都会返回一个新的对象，并会强行触发一个 re-render，引发性能问题。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-785bed8c035640aab760327d1b218062" data-id="785bed8c035640aab760327d1b218062"><span><div id="785bed8c035640aab760327d1b218062" class="notion-header-anchor"></div><a class="notion-hash-link" href="#785bed8c035640aab760327d1b218062" title="关于 useSelector 的正确使用？？？"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">关于 useSelector 的正确使用？？？</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-4fad9c0ac4fa4329ba3fed60532bd06e" data-id="4fad9c0ac4fa4329ba3fed60532bd06e"><span><div id="4fad9c0ac4fa4329ba3fed60532bd06e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#4fad9c0ac4fa4329ba3fed60532bd06e" title="方式一"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">方式一</span></span></h4><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const TestComponent = () =&gt; {
  const { objA, ObjB } = useSelector((store) =&gt; {
    return {
      objA: store.objA,
      objB: store.objB,
    };
  });
  // ...
};</code></pre><!--/$--><div class="notion-text notion-block-7da7111105c541999722b522d1ff36b8">结论：<b>不可用</b>，每次都返回一个 new object，从而导致 re-render。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-d6b9bb8a82f1481fb446fd74a43f2206" data-id="d6b9bb8a82f1481fb446fd74a43f2206"><span><div id="d6b9bb8a82f1481fb446fd74a43f2206" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d6b9bb8a82f1481fb446fd74a43f2206" title="方式二："><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">方式二：</span></span></h4><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">const TestComponent = () =&gt; {
  const objA = useSelector((store) =&gt; store.objA);
  const objB = useSelector((store) =&gt; store.objB);

  // ...
};</code></pre><!--/$--><div class="notion-text notion-block-e309fad53cef4583a5b45ad2972010f9">结论：<b>可用</b>，确实可以解决问题，组件按照预期渲染。useSelector 会被调用多次，但是得益于 batch patching，不会有性能问题。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-a9588fd8667445619f6408bd9475ce7b" data-id="a9588fd8667445619f6408bd9475ce7b"><span><div id="a9588fd8667445619f6408bd9475ce7b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a9588fd8667445619f6408bd9475ce7b" title="方式三："><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">方式三：</span></span></h4><!--$--><pre class="notion-code"><div class="notion-code-copy"><div class="notion-code-copy-button"><svg fill="currentColor" viewBox="0 0 16 16" width="1em" version="1.1"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg></div></div><code class="language-javascript">import { shallowEqual } from &quot;react-redux&quot;;
const TestComponent = () =&gt; {
  const { objA, ObjB } = useSelector((store) =&gt; {
    return {
      objA: store.objA,
      objB: store.objB,
    };
  }, shallowEqual);
  // ...
};</code></pre><!--/$--><div class="notion-text notion-block-21837108939448c697cdd1c3fda71875">结论：<b>可用</b>，因为 shallowEqual 可以保证此次与上次的返回值的比对。告知 useSelector 这并不是一个新的对象，可以复用原值。从而不会导致 re-render。缺点在于：shallowEqual 会带来额外的计算损耗。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-dc7a2d5ef83e49f6b972d51c7feac578" data-id="dc7a2d5ef83e49f6b972d51c7feac578"><span><div id="dc7a2d5ef83e49f6b972d51c7feac578" class="notion-header-anchor"></div><a class="notion-hash-link" href="#dc7a2d5ef83e49f6b972d51c7feac578" title="结论四"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">结论四</span></span></h4><div class="notion-text notion-block-20df4b7864d245f9ac0aefe2f537a216">使用 memorized selector 进行选择器缓存。原理跟方式三同理。没有具体实验过，不过赘述。redux 文档有比较具体的<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://react-redux.js.org/api/hooks#using-memoizing-selectors">说明</a>。</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-d34613c2cdb945a588547bd0872d8363" data-id="d34613c2cdb945a588547bd0872d8363"><span><div id="d34613c2cdb945a588547bd0872d8363" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d34613c2cdb945a588547bd0872d8363" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h3><div class="notion-text notion-block-5d7b2d12676d4c9d975aae423b9f91d7">目前看来 useSelector 的使用总有些变扭，无论是单独写 selector 的冗余，还是多个 selector 要使用 shallowEqual 的额外参数，还是引入 reselect 做 memorized selector，都有额外的理解和开发成本。</div></article></div></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"recordMap":{"block":{"e061616a-52e8-4895-bd2f-49c89f9c1955":{"role":"reader","value":{"id":"e061616a-52e8-4895-bd2f-49c89f9c1955","version":11,"type":"page","properties":{"title":[["useSelector 导致的无意义 re-render 问题记录"]]},"content":["bcbe453a-09bb-4b72-8d04-4b0f5c061cd8","c9fbd16a-8b0b-4004-8922-9b7aa5963316","5ed1909b-bdf4-4423-8a2c-a269d00e59d2","5f501a78-83be-4bdf-970e-44d899b79483","aa5b8171-8b92-491e-9b77-2d4b45aee471","dbd51183-099a-4057-a91d-85af11589cc2","a9af3ec6-b672-4a13-b60a-6dbe4981f806","8c7d07c8-cc21-4f16-9dee-89249c92cf01","44217b7c-88fd-4f18-85cd-7b0f9ddebd5b","74096710-73fd-4e9a-81c5-6ab7036cf36e","d4e368da-8156-40b0-b154-65be925361a6","b4b2c11b-b38c-4d87-8479-bc2c77063e9f","eb1ebaea-db9f-4d5a-a925-85f9363aafa2","99866381-5932-4d6f-afd6-986bd1f808c0","127d5918-e250-4c63-8154-13d55e6a4840","fa0d0496-2e31-4460-a79e-a1a007f51870","eb7ad298-8227-4cf9-9776-f188aebd78d6","84ac7e4b-f0fb-4d0b-87cc-8da757b73ab2","4a232c48-866b-4dae-b085-8c77312308fe","09c425bc-abb7-45a9-8730-03d5e1d47903","5ae25a3b-8d37-4bde-95c1-96003f7d73fe","ede25628-5337-4e82-825c-31d2a857401e","ac7724d3-5ab0-4812-9642-6bf8f782175f","00708d19-28ce-45e7-a98c-50db0d13a8e2","68c119a6-50d8-4d41-838f-391ee433dec9","2a7eae87-07c9-44fe-bebf-e4646607d7ed","f52ac0ae-1a74-460e-8a35-b9fb2fec2e9a","60a59c3e-db8a-45a0-b60a-d8fa4f522969","428e7d02-d7bf-46f2-bfe3-07d2f28ea41f","32e02665-a064-4982-a16d-03f61273c356","c43e50ea-02c7-4a15-82ae-e88479a50158","33392649-72ea-49d7-97f8-fb0cffbff047","15456fd7-8b7e-46ac-b63b-5ec9dbd0bafb","3cc7edf5-e403-491e-8060-c7230ce34ff5","14c146c8-2937-488f-a89a-ad5d9eb94e99","3ff2306c-3f95-4536-8abf-932bcb230718","4a6fb424-e82b-4606-90eb-4564c760e05c","369f61a0-446e-4723-9c5f-66eca837dbb9","e3a09392-f684-4e41-b7a3-f12190641cf7","37408e8f-913c-4886-9e09-ff534b0ae55f","e6abed72-8ef4-4955-9043-aa67cb00e586","436d9b2c-958a-4be1-a06a-87b3119961fc","b74abd2b-5525-4a4f-a3df-55f0bbbd62f9","c5768307-fe54-49b3-8d91-bbedbc220cca","2cb375d9-a53d-455e-a5af-e6a3ceb7b241","785bed8c-0356-40aa-b760-327d1b218062","4fad9c0a-c4fa-4329-ba3f-ed60532bd06e","d731583c-a2af-4384-9196-f42ca1b41a24","7da71111-05c5-4199-9722-b522d1ff36b8","d6b9bb8a-82f1-481f-b446-fd74a43f2206","743c4dd6-b4fa-4c5a-ba2f-cf8f0986e661","e309fad5-3cef-4583-a5b4-5ad2972010f9","a9588fd8-6674-4561-9f64-08bd9475ce7b","37cd2fad-4da1-476e-94cd-1a5255238df5","21837108-9394-48c6-97cd-d1c3fda71875","dc7a2d5e-f83e-49f6-b972-d51c7feac578","20df4b78-64d2-45f9-ac0a-efe2f537a216","d34613c2-cdb9-45a5-8854-7bd0872d8363","5d7b2d12-676d-4c9d-975a-ae423b9f91d7"],"created_time":1673275136178,"last_edited_time":1673276798886,"parent_id":"7c5b4e39-cf12-4d8c-986c-cff290eee407","parent_table":"collection","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"720fa796-e2d6-42db-ac52-1fee3d19addd":{"role":"reader","value":{"id":"720fa796-e2d6-42db-ac52-1fee3d19addd","version":138,"type":"collection_view","view_ids":["97e7d4c0-30d1-4f1c-a393-bb0306148ce7","c5d58f05-b0cc-4b2b-b545-f1fd5df549fb"],"collection_id":"7c5b4e39-cf12-4d8c-986c-cff290eee407","format":{"block_locked":true,"block_locked_by":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","collection_pointer":{"id":"7c5b4e39-cf12-4d8c-986c-cff290eee407","table":"collection","spaceId":"11f66c5f-6043-406b-b492-4dc267645668"},"page_cover_position":0.6},"created_time":1673273881211,"last_edited_time":1673609816936,"parent_id":"35a3a4f9-3d7a-4cb8-9e0f-18ed63907dcf","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"35a3a4f9-3d7a-4cb8-9e0f-18ed63907dcf":{"role":"reader","value":{"id":"35a3a4f9-3d7a-4cb8-9e0f-18ed63907dcf","version":270,"type":"page","properties":{"title":[["Citrus327’s Blog"]]},"content":["aa6b97de-ddd6-4b90-988f-e783bc91bd90","720fa796-e2d6-42db-ac52-1fee3d19addd","1e734c6c-9054-4c36-b6dc-a3ec045eaa2b"],"format":{"page_icon":"/icons/glasses_red.svg","page_cover":"/images/page-cover/solid_yellow.png","copied_from_pointer":{"id":"78754261-97cf-4616-9880-9def95960ebf","table":"block","spaceId":"fde5ac74-eea3-4527-8f00-4482710e1af3"},"page_cover_position":0.6},"permissions":[{"role":"editor","type":"user_permission","user_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a"},{"role":"reader","type":"public_permission","added_timestamp":1673037428832}],"created_time":1673036763269,"last_edited_time":1673609823777,"parent_id":"11f66c5f-6043-406b-b492-4dc267645668","parent_table":"space","alive":true,"copied_from":"78754261-97cf-4616-9880-9def95960ebf","file_ids":["f70d3dc6-ce97-4be2-9cde-b86606147b41","a2bd3317-78e4-48bc-8d27-9b733175a416","747fe148-54f4-48ba-b7c0-dfb2bf5b9b96","ff661d2b-c27d-4552-9892-477f2d7b33b9"],"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"bcbe453a-09bb-4b72-8d04-4b0f5c061cd8":{"role":"reader","value":{"id":"bcbe453a-09bb-4b72-8d04-4b0f5c061cd8","version":1,"type":"header","properties":{"title":[["useSelector 导致的无意义 re-render 问题记录"]]},"created_time":1673275136148,"last_edited_time":1673275136148,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"c9fbd16a-8b0b-4004-8922-9b7aa5963316":{"role":"reader","value":{"id":"c9fbd16a-8b0b-4004-8922-9b7aa5963316","version":1,"type":"sub_header","properties":{"title":[["简介"]]},"created_time":1673275136152,"last_edited_time":1673275136152,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"5ed1909b-bdf4-4423-8a2c-a269d00e59d2":{"role":"reader","value":{"id":"5ed1909b-bdf4-4423-8a2c-a269d00e59d2","version":1,"type":"text","properties":{"title":[["简述最近碰到的一次 re-render 问题，解决思路，以及后续的解决方案。"]]},"created_time":1673275136154,"last_edited_time":1673275136154,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"5f501a78-83be-4bdf-970e-44d899b79483":{"role":"reader","value":{"id":"5f501a78-83be-4bdf-970e-44d899b79483","version":1,"type":"sub_header","properties":{"title":[["问题"]]},"created_time":1673275136154,"last_edited_time":1673275136154,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"aa5b8171-8b92-491e-9b77-2d4b45aee471":{"role":"reader","value":{"id":"aa5b8171-8b92-491e-9b77-2d4b45aee471","version":1,"type":"text","properties":{"title":[["某些组件在不应该 re-render 的情况下，n 次 re-render"]]},"created_time":1673275136155,"last_edited_time":1673275136155,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"dbd51183-099a-4057-a91d-85af11589cc2":{"role":"reader","value":{"id":"dbd51183-099a-4057-a91d-85af11589cc2","version":1,"type":"text","properties":{"title":[["组件具备以下特性"]]},"created_time":1673275136155,"last_edited_time":1673275136155,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"a9af3ec6-b672-4a13-b60a-6dbe4981f806":{"role":"reader","value":{"id":"a9af3ec6-b672-4a13-b60a-6dbe4981f806","version":1,"type":"bulleted_list","properties":{"title":[["无 props"]]},"created_time":1673275136155,"last_edited_time":1673275136155,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"8c7d07c8-cc21-4f16-9dee-89249c92cf01":{"role":"reader","value":{"id":"8c7d07c8-cc21-4f16-9dee-89249c92cf01","version":1,"type":"bulleted_list","properties":{"title":[["数据均订阅至 redux store"]]},"created_time":1673275136156,"last_edited_time":1673275136156,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"44217b7c-88fd-4f18-85cd-7b0f9ddebd5b":{"role":"reader","value":{"id":"44217b7c-88fd-4f18-85cd-7b0f9ddebd5b","version":1,"type":"sub_header","properties":{"title":[["思路描述"]]},"created_time":1673275136156,"last_edited_time":1673275136156,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"74096710-73fd-4e9a-81c5-6ab7036cf36e":{"role":"reader","value":{"id":"74096710-73fd-4e9a-81c5-6ab7036cf36e","version":1,"type":"text","properties":{"title":[["一个组件被更新并 re-render，无非"]]},"created_time":1673275136156,"last_edited_time":1673275136156,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"d4e368da-8156-40b0-b154-65be925361a6":{"role":"reader","value":{"id":"d4e368da-8156-40b0-b154-65be925361a6","version":1,"type":"bulleted_list","properties":{"title":[["父组件更新导致子组件 re-render"]]},"created_time":1673275136157,"last_edited_time":1673275136157,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"b4b2c11b-b38c-4d87-8479-bc2c77063e9f":{"role":"reader","value":{"id":"b4b2c11b-b38c-4d87-8479-bc2c77063e9f","version":1,"type":"bulleted_list","properties":{"title":[["组件的 local state 更新"]]},"created_time":1673275136157,"last_edited_time":1673275136157,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"eb1ebaea-db9f-4d5a-a925-85f9363aafa2":{"role":"reader","value":{"id":"eb1ebaea-db9f-4d5a-a925-85f9363aafa2","version":1,"type":"bulleted_list","properties":{"title":[["组件的 props 更新"]]},"created_time":1673275136157,"last_edited_time":1673275136157,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"99866381-5932-4d6f-afd6-986bd1f808c0":{"role":"reader","value":{"id":"99866381-5932-4d6f-afd6-986bd1f808c0","version":1,"type":"bulleted_list","properties":{"title":[["组件订阅的 global state 更新，触发组件 re-render"]]},"created_time":1673275136157,"last_edited_time":1673275136157,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"127d5918-e250-4c63-8154-13d55e6a4840":{"role":"reader","value":{"id":"127d5918-e250-4c63-8154-13d55e6a4840","version":1,"type":"text","properties":{"title":[["经查证父组件、local state 等，只有第四条符合组件被 re-render 的可能性。组件内均通过 useSelector 进行 global state 的绑定（订阅）"]]},"created_time":1673275136157,"last_edited_time":1673275136157,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"fa0d0496-2e31-4460-a79e-a1a007f51870":{"role":"reader","value":{"id":"fa0d0496-2e31-4460-a79e-a1a007f51870","version":1,"type":"sub_header","properties":{"title":[["定位问题"]]},"created_time":1673275136158,"last_edited_time":1673275136158,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"eb7ad298-8227-4cf9-9776-f188aebd78d6":{"role":"reader","value":{"id":"eb7ad298-8227-4cf9-9776-f188aebd78d6","version":1,"type":"sub_sub_header","properties":{"title":[["useSelector 文档"]]},"created_time":1673275136158,"last_edited_time":1673275136158,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"84ac7e4b-f0fb-4d0b-87cc-8da757b73ab2":{"role":"reader","value":{"id":"84ac7e4b-f0fb-4d0b-87cc-8da757b73ab2","version":1,"type":"text","properties":{"title":[["通过重新查看 redux useSelector 的"],["api 文档",[["a","https://react-redux.js.org/api/hooks#equality-comparisons-and-updates"]]],["发现。"]]},"created_time":1673275136159,"last_edited_time":1673275136159,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"4a232c48-866b-4dae-b085-8c77312308fe":{"role":"reader","value":{"id":"4a232c48-866b-4dae-b085-8c77312308fe","version":1,"type":"quote","properties":{"title":[["With useSelector(), returning a new object every time will always force a re-render by default."]]},"created_time":1673275136160,"last_edited_time":1673275136160,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"09c425bc-abb7-45a9-8730-03d5e1d47903":{"role":"reader","value":{"id":"09c425bc-abb7-45a9-8730-03d5e1d47903","version":1,"type":"text","properties":{"title":[["当 useSelector 返回一个新的对象，会强制 re-render。"]]},"created_time":1673275136160,"last_edited_time":1673275136160,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"5ae25a3b-8d37-4bde-95c1-96003f7d73fe":{"role":"reader","value":{"id":"5ae25a3b-8d37-4bde-95c1-96003f7d73fe","version":1,"type":"text","properties":{"title":[["一个 store 对象在任意 action 被 dispatch 之后，根据 flux 的规范，需要返回一个完整的 store 对象。"]]},"created_time":1673275136160,"last_edited_time":1673275136160,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"ede25628-5337-4e82-825c-31d2a857401e":{"role":"reader","value":{"id":"ede25628-5337-4e82-825c-31d2a857401e","version":1,"type":"text","properties":{"title":[["这句话等同于：store 内容本身的指针在每次 dispatch 后会更新为新的指针，除了 dispatch 的 actions 相关的 key 会变更，其他的 state 均为 merge 操作（不考虑 primitive 类型，仅考虑引用，因为 primitive 在进行 strict equal 时较为简单明了）"]]},"created_time":1673275136161,"last_edited_time":1673275136161,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"ac7724d3-5ab0-4812-9642-6bf8f782175f":{"role":"reader","value":{"id":"ac7724d3-5ab0-4812-9642-6bf8f782175f","version":1,"type":"text","properties":{"title":[["使用一个简单的 reducer 举例"]]},"created_time":1673275136161,"last_edited_time":1673275136161,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"00708d19-28ce-45e7-a98c-50db0d13a8e2":{"role":"reader","value":{"id":"00708d19-28ce-45e7-a98c-50db0d13a8e2","version":1,"type":"text","properties":{"title":[["例如："]]},"created_time":1673275136162,"last_edited_time":1673275136162,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"68c119a6-50d8-4d41-838f-391ee433dec9":{"role":"reader","value":{"id":"68c119a6-50d8-4d41-838f-391ee433dec9","version":6,"type":"code","properties":{"title":[["const setObj = (\n  state,\n  payload,,\n) =\u003e ({\n  ...state,\n  obj: payload,\n})"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136163,"last_edited_time":1673276055514,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"2a7eae87-07c9-44fe-bebf-e4646607d7ed":{"role":"reader","value":{"id":"2a7eae87-07c9-44fe-bebf-e4646607d7ed","version":1,"type":"text","properties":{"title":[["以上 setObj action 被 dispatch 后，会设置一个新的 obj，及为一个新的指针"]]},"created_time":1673275136164,"last_edited_time":1673275136164,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"f52ac0ae-1a74-460e-8a35-b9fb2fec2e9a":{"role":"reader","value":{"id":"f52ac0ae-1a74-460e-8a35-b9fb2fec2e9a","version":1,"type":"text","properties":{"title":[["使用"]]},"created_time":1673275136164,"last_edited_time":1673275136164,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"60a59c3e-db8a-45a0-b60a-d8fa4f522969":{"role":"reader","value":{"id":"60a59c3e-db8a-45a0-b60a-d8fa4f522969","version":6,"type":"code","properties":{"title":[["const obj = useSelector((store) =\u003e store.obj);"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136164,"last_edited_time":1673276064330,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"428e7d02-d7bf-46f2-bfe3-07d2f28ea41f":{"role":"reader","value":{"id":"428e7d02-d7bf-46f2-bfe3-07d2f28ea41f","version":1,"type":"text","properties":{"title":[["当执行"],["dispatch.store.setObj(data)",[["c"]]],["后, obj 的指针本身会变化。达到了订阅的目的。"]]},"created_time":1673275136165,"last_edited_time":1673275136165,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"32e02665-a064-4982-a16d-03f61273c356":{"role":"reader","value":{"id":"32e02665-a064-4982-a16d-03f61273c356","version":1,"type":"text","properties":{"title":[["到目前为止都没有问题，结合上文说到的"]]},"created_time":1673275136166,"last_edited_time":1673275136166,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"c43e50ea-02c7-4a15-82ae-e88479a50158":{"role":"reader","value":{"id":"c43e50ea-02c7-4a15-82ae-e88479a50158","version":1,"type":"quote","properties":{"title":[["With useSelector(), returning a new object every time will always force a re-render by default."]]},"created_time":1673275136166,"last_edited_time":1673275136166,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"33392649-72ea-49d7-97f8-fb0cffbff047":{"role":"reader","value":{"id":"33392649-72ea-49d7-97f8-fb0cffbff047","version":1,"type":"text","properties":{"title":[["obj 变更时，obj 确实为一个新的对象，会触发一次 re-render"]]},"created_time":1673275136166,"last_edited_time":1673275136166,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"15456fd7-8b7e-46ac-b63b-5ec9dbd0bafb":{"role":"reader","value":{"id":"15456fd7-8b7e-46ac-b63b-5ec9dbd0bafb","version":1,"type":"sub_sub_header","properties":{"title":[["多个 useSelector 的使用"]]},"created_time":1673275136166,"last_edited_time":1673275136166,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"3cc7edf5-e403-491e-8060-c7230ce34ff5":{"role":"reader","value":{"id":"3cc7edf5-e403-491e-8060-c7230ce34ff5","version":1,"type":"text","properties":{"title":[["假设 store 内有 2 个 obj，且某个组件对这 2 个 obj 均进行订阅"]]},"created_time":1673275136167,"last_edited_time":1673275136167,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"14c146c8-2937-488f-a89a-ad5d9eb94e99":{"role":"reader","value":{"id":"14c146c8-2937-488f-a89a-ad5d9eb94e99","version":1,"type":"text","properties":{"title":[["例："]]},"created_time":1673275136167,"last_edited_time":1673275136167,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"3ff2306c-3f95-4536-8abf-932bcb230718":{"role":"reader","value":{"id":"3ff2306c-3f95-4536-8abf-932bcb230718","version":1,"type":"code","properties":{"title":[["const TestComponent = () =\u003e {\n  const { objA, ObjB } = useSelector((store) =\u003e {\n    return {\n      objA: store.objA,\n      objB: store.objB,\n    };\n  });\n  // ...\n};"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136167,"last_edited_time":1673275136167,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"4a6fb424-e82b-4606-90eb-4564c760e05c":{"role":"reader","value":{"id":"4a6fb424-e82b-4606-90eb-4564c760e05c","version":1,"type":"text","properties":{"title":[["如果使用上文写法，会造成无意义的 re-render 问题"]]},"created_time":1673275136168,"last_edited_time":1673275136168,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"369f61a0-446e-4723-9c5f-66eca837dbb9":{"role":"reader","value":{"id":"369f61a0-446e-4723-9c5f-66eca837dbb9","version":1,"type":"text","properties":{"title":[["再次阅读 redux 关于 useSelector 的文档"]]},"created_time":1673275136168,"last_edited_time":1673275136168,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"e3a09392-f684-4e41-b7a3-f12190641cf7":{"role":"reader","value":{"id":"e3a09392-f684-4e41-b7a3-f12190641cf7","version":1,"type":"quote","properties":{"title":[["With useSelector(), returning a new object every time will always force a re-render by default."]]},"created_time":1673275136169,"last_edited_time":1673275136169,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"37408e8f-913c-4886-9e09-ff534b0ae55f":{"role":"reader","value":{"id":"37408e8f-913c-4886-9e09-ff534b0ae55f","version":1,"type":"text","properties":{"title":[["当 useSelector 被执行后，这个钩子会比对此次 selector 调用与上次 selector 调用的结果进行比对，并进行===的 strict equal，参考文档："]]},"created_time":1673275136169,"last_edited_time":1673275136169,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"e6abed72-8ef4-4955-9043-aa67cb00e586":{"role":"reader","value":{"id":"e6abed72-8ef4-4955-9043-aa67cb00e586","version":1,"type":"quote","properties":{"title":[["However, when an action is dispatched to the Redux store, useSelector() only forces a re-render if the selector result appears to be different than the last result. As of v7.1.0-alpha.5, the default comparison is a strict === reference comparison. This is different than connect(), which uses shallow equality checks on the results of mapState calls to determine if re-rendering is needed. This has several implications on how you should use useSelector()."]]},"created_time":1673275136169,"last_edited_time":1673275136169,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"436d9b2c-958a-4be1-a06a-87b3119961fc":{"role":"reader","value":{"id":"436d9b2c-958a-4be1-a06a-87b3119961fc","version":1,"type":"text","properties":{"title":[["回到例子"]]},"created_time":1673275136169,"last_edited_time":1673275136169,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"b74abd2b-5525-4a4f-a3df-55f0bbbd62f9":{"role":"reader","value":{"id":"b74abd2b-5525-4a4f-a3df-55f0bbbd62f9","version":1,"type":"code","properties":{"title":[["const TestComponent = () =\u003e {\n  const { objA, ObjB } = useSelector((store) =\u003e {\n    // 这个selector每次调用都返回新的对象\n    return {\n      objA: store.objA,\n      objB: store.objB,\n    };\n  });\n  // ...\n};"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136170,"last_edited_time":1673275136170,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"c5768307-fe54-49b3-8d91-bbedbc220cca":{"role":"reader","value":{"id":"c5768307-fe54-49b3-8d91-bbedbc220cca","version":1,"type":"text","properties":{"title":[["这也就符合了文档上描述的 always force a re-render by default"]]},"created_time":1673275136171,"last_edited_time":1673275136171,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"2cb375d9-a53d-455e-a5af-e6a3ceb7b241":{"role":"reader","value":{"id":"2cb375d9-a53d-455e-a5af-e6a3ceb7b241","version":1,"type":"text","properties":{"title":[["也就是说当前 store 作用域内（Provider 内），任意一个 action 被 dispatch，例子中的 selector 被执行后每次都会返回一个新的对象，并会强行触发一个 re-render，引发性能问题。"]]},"created_time":1673275136172,"last_edited_time":1673275136172,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"785bed8c-0356-40aa-b760-327d1b218062":{"role":"reader","value":{"id":"785bed8c-0356-40aa-b760-327d1b218062","version":1,"type":"sub_header","properties":{"title":[["关于 useSelector 的正确使用？？？"]]},"created_time":1673275136172,"last_edited_time":1673275136172,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"4fad9c0a-c4fa-4329-ba3f-ed60532bd06e":{"role":"reader","value":{"id":"4fad9c0a-c4fa-4329-ba3f-ed60532bd06e","version":1,"type":"sub_sub_header","properties":{"title":[["方式一"]]},"created_time":1673275136172,"last_edited_time":1673275136172,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"d731583c-a2af-4384-9196-f42ca1b41a24":{"role":"reader","value":{"id":"d731583c-a2af-4384-9196-f42ca1b41a24","version":6,"type":"code","properties":{"title":[["const TestComponent = () =\u003e {\n  const { objA, ObjB } = useSelector((store) =\u003e {\n    return {\n      objA: store.objA,\n      objB: store.objB,\n    };\n  });\n  // ...\n};"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136172,"last_edited_time":1673276078868,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"7da71111-05c5-4199-9722-b522d1ff36b8":{"role":"reader","value":{"id":"7da71111-05c5-4199-9722-b522d1ff36b8","version":1,"type":"text","properties":{"title":[["结论："],["不可用",[["b"]]],["，每次都返回一个 new object，从而导致 re-render。"]]},"created_time":1673275136173,"last_edited_time":1673275136173,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"d6b9bb8a-82f1-481f-b446-fd74a43f2206":{"role":"reader","value":{"id":"d6b9bb8a-82f1-481f-b446-fd74a43f2206","version":1,"type":"sub_sub_header","properties":{"title":[["方式二："]]},"created_time":1673275136173,"last_edited_time":1673275136173,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"743c4dd6-b4fa-4c5a-ba2f-cf8f0986e661":{"role":"reader","value":{"id":"743c4dd6-b4fa-4c5a-ba2f-cf8f0986e661","version":6,"type":"code","properties":{"title":[["const TestComponent = () =\u003e {\n  const objA = useSelector((store) =\u003e store.objA);\n  const objB = useSelector((store) =\u003e store.objB);\n\n  // ...\n};"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136174,"last_edited_time":1673276088715,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"e309fad5-3cef-4583-a5b4-5ad2972010f9":{"role":"reader","value":{"id":"e309fad5-3cef-4583-a5b4-5ad2972010f9","version":1,"type":"text","properties":{"title":[["结论："],["可用",[["b"]]],["，确实可以解决问题，组件按照预期渲染。useSelector 会被调用多次，但是得益于 batch patching，不会有性能问题。"]]},"created_time":1673275136174,"last_edited_time":1673275136174,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"a9588fd8-6674-4561-9f64-08bd9475ce7b":{"role":"reader","value":{"id":"a9588fd8-6674-4561-9f64-08bd9475ce7b","version":1,"type":"sub_sub_header","properties":{"title":[["方式三："]]},"created_time":1673275136175,"last_edited_time":1673275136175,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"37cd2fad-4da1-476e-94cd-1a5255238df5":{"role":"reader","value":{"id":"37cd2fad-4da1-476e-94cd-1a5255238df5","version":6,"type":"code","properties":{"title":[["import { shallowEqual } from \"react-redux\";\nconst TestComponent = () =\u003e {\n  const { objA, ObjB } = useSelector((store) =\u003e {\n    return {\n      objA: store.objA,\n      objB: store.objB,\n    };\n  }, shallowEqual);\n  // ...\n};"]],"language":[["JavaScript"]]},"format":{"code_wrap":true},"created_time":1673275136175,"last_edited_time":1673276097370,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"21837108-9394-48c6-97cd-d1c3fda71875":{"role":"reader","value":{"id":"21837108-9394-48c6-97cd-d1c3fda71875","version":1,"type":"text","properties":{"title":[["结论："],["可用",[["b"]]],["，因为 shallowEqual 可以保证此次与上次的返回值的比对。告知 useSelector 这并不是一个新的对象，可以复用原值。从而不会导致 re-render。缺点在于：shallowEqual 会带来额外的计算损耗。"]]},"created_time":1673275136176,"last_edited_time":1673275136176,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"dc7a2d5e-f83e-49f6-b972-d51c7feac578":{"role":"reader","value":{"id":"dc7a2d5e-f83e-49f6-b972-d51c7feac578","version":1,"type":"sub_sub_header","properties":{"title":[["结论四"]]},"created_time":1673275136176,"last_edited_time":1673275136176,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"20df4b78-64d2-45f9-ac0a-efe2f537a216":{"role":"reader","value":{"id":"20df4b78-64d2-45f9-ac0a-efe2f537a216","version":1,"type":"text","properties":{"title":[["使用 memorized selector 进行选择器缓存。原理跟方式三同理。没有具体实验过，不过赘述。redux 文档有比较具体的"],["说明",[["a","https://react-redux.js.org/api/hooks#using-memoizing-selectors"]]],["。"]]},"created_time":1673275136177,"last_edited_time":1673275136177,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"d34613c2-cdb9-45a5-8854-7bd0872d8363":{"role":"reader","value":{"id":"d34613c2-cdb9-45a5-8854-7bd0872d8363","version":1,"type":"sub_header","properties":{"title":[["总结"]]},"created_time":1673275136177,"last_edited_time":1673275136177,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"5d7b2d12-676d-4c9d-975a-ae423b9f91d7":{"role":"reader","value":{"id":"5d7b2d12-676d-4c9d-975a-ae423b9f91d7","version":1,"type":"text","properties":{"title":[["目前看来 useSelector 的使用总有些变扭，无论是单独写 selector 的冗余，还是多个 selector 要使用 shallowEqual 的额外参数，还是引入 reselect 做 memorized selector，都有额外的理解和开发成本。"]]},"created_time":1673275136178,"last_edited_time":1673275136178,"parent_id":"e061616a-52e8-4895-bd2f-49c89f9c1955","parent_table":"block","alive":true,"ignore_block_count":true,"created_by_table":"notion_user","created_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","last_edited_by_table":"notion_user","last_edited_by_id":"655f56a9-2482-4fed-ae6d-9f23ccbb923a","space_id":"11f66c5f-6043-406b-b492-4dc267645668"}}},"collection":{"7c5b4e39-cf12-4d8c-986c-cff290eee407":{"role":"reader","value":{"id":"7c5b4e39-cf12-4d8c-986c-cff290eee407","version":47,"name":[["Posts"]],"schema":{";nHF":{"name":"Created time","type":"created_time"},"\u003e:DV":{"name":"Published","type":"checkbox"},"VeZ_":{"name":"Private","type":"checkbox"},"Zq\u003e}":{"name":"Featured","type":"checkbox"},"rTD}":{"name":"Tags","type":"multi_select","options":[{"id":"33b90624-5bb0-463f-b4e6-43a173ffe028","color":"pink","value":"Life"}]},"s?]n":{"name":"Last edited time","type":"last_edited_time"},"title":{"name":"Title","type":"title"}},"cover":"/images/page-cover/solid_beige.png","format":{"property_visibility":[{"property":"rTD}","visibility":"hide"},{"property":";nHF","visibility":"hide"},{"property":"Zq\u003e}","visibility":"hide"},{"property":"s?]n","visibility":"hide"},{"property":"VeZ_","visibility":"hide"},{"property":"\u003e:DV","visibility":"hide"}],"collection_cover_position":0.5,"collection_page_properties":[{"visible":true,"property":"rTD}"}]},"parent_id":"720fa796-e2d6-42db-ac52-1fee3d19addd","parent_table":"block","alive":true,"migrated":true,"space_id":"11f66c5f-6043-406b-b492-4dc267645668","deleted_schema":{"ElLO":{"name":"Date","type":"date"},"KJ}\\":{"name":"Created time 1","type":"created_time"},"_}UF":{"name":"Date","type":"date"}}}}},"collection_view":{"97e7d4c0-30d1-4f1c-a393-bb0306148ce7":{"role":"reader","value":{"id":"97e7d4c0-30d1-4f1c-a393-bb0306148ce7","version":4,"type":"gallery","name":"Featured","format":{"gallery_cover":{"type":"page_cover"},"property_filters":[{"id":"76d07a2c-1674-4c5e-9a09-84428c965a95","filter":{"filter":{"value":{"type":"exact","value":true},"operator":"checkbox_is"},"property":"Zq\u003e}"}}],"hide_linked_collection_name":true},"parent_id":"720fa796-e2d6-42db-ac52-1fee3d19addd","parent_table":"block","alive":true,"page_sort":["19be9c2d-64ff-4c8a-8135-571eb833f289","2d0a5101-7003-4092-9057-19b8afad5b47","f035a5d3-a3cc-4c7f-a807-1ef1adf3d793","549e0e14-1265-41ed-b0e8-6cd266e689f0","2cabcd1c-9b22-40e5-ac11-49c6807ab8f7","39be2719-fb58-49f3-a7fc-6d1c9ca86757","5d2d521a-e821-4acd-b0db-1e0ace950295","129181e5-5b2d-40a5-af60-47c125f075fd","455dfe03-94f5-4179-a5d7-528c072d34c4","08afc86f-001a-4e35-a008-dae3063a0609","a77bb6e8-2578-4904-9083-86ecf9c1f0a7","0325ef1f-7bf7-47c3-9337-846fb5f115d1","e061616a-52e8-4895-bd2f-49c89f9c1955","90521391-4623-4551-b800-b337c6a1a061","82caae75-4984-4c43-859e-3a6fe07a31ca","ddb18a21-3c29-4770-9c25-4f7796632bb1","bdb4410f-b5e7-4e79-9d1e-68e2a64fe6e9","48df005d-f436-494a-921f-ad2be3388574","5a474382-e7cf-4ad9-8f12-e9a1bd2070a2","62c87db4-45b4-4366-8554-381f50f2f311","4963aee5-ffc5-4331-aff7-1a1e7f0c1aa9","5c17239d-019d-4ccf-8548-27cfa3c3d914","859a952e-c177-4636-8562-cb1663774fc2","143aa995-a6e5-4b83-b563-7caa81bc1927","7e233de2-23bc-4f0c-901c-4d575de8d41f","983ee778-1ecd-4f7d-a4ac-8c6414650094","23146840-d749-41b1-b8df-523c80c97f44","5d69ef31-acbb-41f1-bf02-ee223b7c3861","f88d2799-5621-41eb-92b0-27a14fef0ecf","cedc02cb-5096-4bbc-894e-279f88496648","29a3efb4-d59c-461a-939d-9732c7f1a467","a8ee382f-e2b1-4b9a-ade7-2375e182b3fd","c64bde7c-b595-43be-8d49-9b2218059933","5923a11f-5dc9-4905-87ca-5da3810c4806"],"space_id":"11f66c5f-6043-406b-b492-4dc267645668"}},"c5d58f05-b0cc-4b2b-b545-f1fd5df549fb":{"role":"reader","value":{"id":"c5d58f05-b0cc-4b2b-b545-f1fd5df549fb","version":38,"type":"table","name":"Table","format":{"table_properties":[{"width":455,"visible":true,"property":"title"},{"width":200,"visible":false,"property":";nHF"},{"width":200,"visible":false,"property":"Zq\u003e}"},{"width":200,"visible":false,"property":"s?]n"},{"width":200,"visible":false,"property":"VeZ_"},{"width":200,"visible":false,"property":"\u003e:DV"},{"width":200,"visible":false,"property":"rTD}"}]},"parent_id":"720fa796-e2d6-42db-ac52-1fee3d19addd","parent_table":"block","alive":true,"page_sort":["2d0a5101-7003-4092-9057-19b8afad5b47","549e0e14-1265-41ed-b0e8-6cd266e689f0","2cabcd1c-9b22-40e5-ac11-49c6807ab8f7","39be2719-fb58-49f3-a7fc-6d1c9ca86757","5d2d521a-e821-4acd-b0db-1e0ace950295","129181e5-5b2d-40a5-af60-47c125f075fd","455dfe03-94f5-4179-a5d7-528c072d34c4","08afc86f-001a-4e35-a008-dae3063a0609","a77bb6e8-2578-4904-9083-86ecf9c1f0a7","0325ef1f-7bf7-47c3-9337-846fb5f115d1","e061616a-52e8-4895-bd2f-49c89f9c1955","90521391-4623-4551-b800-b337c6a1a061","ddb18a21-3c29-4770-9c25-4f7796632bb1","bdb4410f-b5e7-4e79-9d1e-68e2a64fe6e9","48df005d-f436-494a-921f-ad2be3388574","5a474382-e7cf-4ad9-8f12-e9a1bd2070a2","62c87db4-45b4-4366-8554-381f50f2f311","4963aee5-ffc5-4331-aff7-1a1e7f0c1aa9","5c17239d-019d-4ccf-8548-27cfa3c3d914","859a952e-c177-4636-8562-cb1663774fc2","143aa995-a6e5-4b83-b563-7caa81bc1927","7e233de2-23bc-4f0c-901c-4d575de8d41f","983ee778-1ecd-4f7d-a4ac-8c6414650094","23146840-d749-41b1-b8df-523c80c97f44","5d69ef31-acbb-41f1-bf02-ee223b7c3861","f88d2799-5621-41eb-92b0-27a14fef0ecf","cedc02cb-5096-4bbc-894e-279f88496648","29a3efb4-d59c-461a-939d-9732c7f1a467","a8ee382f-e2b1-4b9a-ade7-2375e182b3fd","c64bde7c-b595-43be-8d49-9b2218059933","5923a11f-5dc9-4905-87ca-5da3810c4806","19be9c2d-64ff-4c8a-8135-571eb833f289","f035a5d3-a3cc-4c7f-a807-1ef1adf3d793"],"space_id":"11f66c5f-6043-406b-b492-4dc267645668"}}},"space":{},"notion_user":{},"collection_query":{},"signed_urls":{}}},"__N_SSG":true},"page":"/[pageId]","query":{"pageId":"e061616a52e84895bd2f49c89f9c1955"},"buildId":"jGOT37qpO3qldfkcBz3lx","assetPrefix":"/blog","runtimeConfig":{"basePath":"/blog"},"isFallback":false,"dynamicIds":[2679,8785],"gsp":true,"scriptLoader":[]}</script></body></html>