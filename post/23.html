<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Minimal Life</title><meta name="description" content="Minimal Life Blog"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/blog/_next/static/css/6db3845f9f3a867b.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/6db3845f9f3a867b.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/452f28fbf231f2d9.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/452f28fbf231f2d9.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/blog/_next/static/chunks/webpack-4d5208940e01a3dc.js" defer=""></script><script src="/blog/_next/static/chunks/framework-00b57966872fc495.js" defer=""></script><script src="/blog/_next/static/chunks/main-04fa69cd18d105e9.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-f55443f2448c8e66.js" defer=""></script><script src="/blog/_next/static/chunks/247-b84c2316c963d09c.js" defer=""></script><script src="/blog/_next/static/chunks/pages/post/%5Bid%5D-5f7ac47925745e56.js" defer=""></script><script src="/blog/_next/static/wvpSY8D6DvySN1MN4mmgF/_buildManifest.js" defer=""></script><script src="/blog/_next/static/wvpSY8D6DvySN1MN4mmgF/_ssgManifest.js" defer=""></script><script src="/blog/_next/static/wvpSY8D6DvySN1MN4mmgF/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="Layout_container__KdNo5"><header class="Layout_header__TY1Ur"><div class="Avatar_avatar__Wqsgs"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2724%27%20height=%2724%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="Avatar_img__fPm7S" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="https://avatars.githubusercontent.com/u/17166940?v=4 1x, https://avatars.githubusercontent.com/u/17166940?v=4 2x" src="https://avatars.githubusercontent.com/u/17166940?v=4" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="Avatar_img__fPm7S" loading="lazy"/></noscript></span><div class="Avatar_username__94Fmm">phshy0607</div></div><div class="Navbar_navbar__dE_dF"><nav class="Navbar_nav__lgcdH"><a href="/blog">Home</a></nav><nav class="Navbar_nav__lgcdH"><a href="/blog/posts">Posts</a></nav></div></header><main class="Layout_main__CO5d2"><div class="markdown-body"><h2 dir="auto">Module System</h2>
<blockquote>
<p dir="auto">Rust has a number of features that allow you to manage your code’s organization, including which details are exposed, which details are private, and what names are in each scope in your programs. These features, sometimes collectively referred to as the <em>module system</em>, include:</p>
<ul dir="auto">
<li><strong>Packages:</strong> A Cargo feature that lets you build, test, and share crates</li>
<li><strong>Crates:</strong> A tree of modules that produces a library or executable</li>
<li><strong>Modules</strong> and <strong>use:</strong> Let you control the organization, scope, and privacy of paths</li>
<li><strong>Paths:</strong> A way of naming an item, such as a struct, function, or module</li>
</ul>
</blockquote>
<h2 dir="auto">Packages and Crates</h2>
<p dir="auto"><a href="https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html" rel="nofollow">ref</a></p>
<blockquote>
<p dir="auto">A package <em>must</em> contain zero or one library crates, and no more.</p>
</blockquote>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cargo new my-project
     Created binary (application) `my-project` package
$ ls my-project
Cargo.toml
src
$ ls my-project/src
main.rs
"><pre>$ cargo new my-project
     Created binary (application) <span class="pl-s"><span class="pl-pds">`</span>my-project<span class="pl-pds">`</span></span> package
$ ls my-project
Cargo.toml
src
$ ls my-project/src
main.rs
</pre></div>
<blockquote>
<p dir="auto">When we entered the command, Cargo created a <em>Cargo.toml</em> file, giving us a <strong>package</strong>. Looking at the contents of <em>Cargo.toml</em>, there’s no mention of <em>src/main.rs</em><strong>because Cargo follows a convention that <em>src/main.rs</em> is the crate root of a binary crate with the same name as the package</strong>. Likewise, Cargo knows that if the package directory contains <em>src/lib.rs</em>, the package contains a library crate with the same name as the package, and <em>src/lib.rs</em> is its crate root. Cargo passes the crate root files to <code class="notranslate">rustc</code> to build the library or binary.</p>
</blockquote>
<ul dir="auto">
<li>src/main.rs是约定的binary入口</li>
<li>src/lib.rs是约定的library入口</li>
<li><em>src/main.rs</em> and <em>src/lib.rs</em> are called crate roots</li>
</ul>
<blockquote>
<p dir="auto">Here, we have a package that only contains <em>src/main.rs</em>, meaning it only contains a binary crate named <code class="notranslate">my-project</code>. If a package contains <em>src/main.rs</em> and <em>src/lib.rs</em>, it has two crates: <strong>a library and a binary</strong>, both with the same name as the package. A package can have multiple binary crates by placing files in the <em>src/bin</em> directory: each file will be a separate binary crate.</p>
</blockquote>
<ul dir="auto">
<li>crate可以理解是一个项目</li>
<li>mod就是项目内的模块</li>
</ul>
<h2 dir="auto">Modules and Paths</h2>
<blockquote>
<p dir="auto">the <code class="notranslate">use</code> keyword that brings a path into scope; and the <code class="notranslate">pub</code> keyword to make items public.</p>
<p dir="auto"><em>Modules</em> let us organize code within a crate into groups for readability and easy reuse. Modules also control the <em>privacy</em> of items, which is whether an item can be used by outside code (<em>public</em>) or is an internal implementation detail and not available for outside use (<em>private</em>).</p>
</blockquote>
<ul dir="auto">
<li><code class="notranslate">cargo new --lib restaurant</code>创建一个lib</li>
</ul>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    // Absolute path
    crate::front_of_house::hosting::add_to_waitlist();

    // Relative path
    front_of_house::hosting::add_to_waitlist();
}"><pre><span class="pl-k">mod</span> front_of_house {
    <span class="pl-k">pub</span> <span class="pl-k">mod</span> hosting {
        <span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">add_to_waitlist</span>() {}
    }
}

<span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">eat_at_restaurant</span>() {
    <span class="pl-c">// Absolute path</span>
    <span class="pl-k">crate</span><span class="pl-k">::</span>front_of_house<span class="pl-k">::</span>hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();

    <span class="pl-c">// Relative path</span>
    front_of_house<span class="pl-k">::</span>hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();
}</pre></div>
<ul dir="auto">
<li>
<p dir="auto"><code class="notranslate">crate</code>代表当前一个绝对路径的开始，代表当前文件？？</p>
</li>
<li>
<p dir="auto">使用pub代表public</p>
</li>
<li>
<p dir="auto">可以使用use来省略很长的路径</p>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

use front_of_house::hosting; // hosting可以直接在当前scope访问

pub fn eat_at_restaurant() {
    // Absolute path
    crate::front_of_house::hosting::add_to_waitlist();

    // Relative path
    front_of_house::hosting::add_to_waitlist();

    // use Use
    hosting::add_to_waitlist();
}"><pre><span class="pl-k">mod</span> front_of_house {
    <span class="pl-k">pub</span> <span class="pl-k">mod</span> hosting {
        <span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">add_to_waitlist</span>() {}
    }
}

<span class="pl-k">use</span> front_of_house<span class="pl-k">::</span>hosting; <span class="pl-c">// hosting可以直接在当前scope访问</span>

<span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">eat_at_restaurant</span>() {
    <span class="pl-c">// Absolute path</span>
    <span class="pl-k">crate</span><span class="pl-k">::</span>front_of_house<span class="pl-k">::</span>hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();

    <span class="pl-c">// Relative path</span>
    front_of_house<span class="pl-k">::</span>hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();

    <span class="pl-c">// use Use</span>
    hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();
}</pre></div>
</li>
<li>
<p dir="auto">可以使用as来解决重复命名问题</p>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="use std::fmt::Result;
use std::io::Result as IoResult;

fn function1() -&gt; Result {
    // --snip--
}

fn function2() -&gt; IoResult&lt;()&gt; {
    // --snip--
}"><pre><span class="pl-k">use</span> std<span class="pl-k">::</span>fmt<span class="pl-k">::</span><span class="pl-k">Result</span>;
<span class="pl-k">use</span> std<span class="pl-k">::</span>io<span class="pl-k">::</span><span class="pl-k">Result</span> <span class="pl-k">as</span> IoResult;

<span class="pl-k">fn</span> <span class="pl-en">function1</span>() -&gt; <span class="pl-k">Result</span> {
    <span class="pl-c">// --snip--</span>
}

<span class="pl-k">fn</span> <span class="pl-en">function2</span>() -&gt; IoResult&lt;()&gt; {
    <span class="pl-c">// --snip--</span>
}</pre></div>
</li>
</ul>
<h2 dir="auto">分离文件</h2>
<div class="highlight highlight-source-java notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="|- src
  |- front_of_house // 模块文件夹
    |-hosting.rs    // 模块主体
  |- test_a_mod     // 模块文件夹
    |-test_mod.rs   // 模块主体
	front_of_house.rs // front_of_house的定义文件
	test_a_mod.rs     // test_a_mod的定义文件
	lib.rs            // 入口文件"><pre>|- <span class="pl-s1">src</span>
  |- <span class="pl-s1">front_of_house</span> <span class="pl-c">// 模块文件夹</span>
    |-<span class="pl-s1">hosting</span>.<span class="pl-s1">rs</span>    <span class="pl-c">// 模块主体</span>
  |- <span class="pl-s1">test_a_mod</span>     <span class="pl-c">// 模块文件夹</span>
    |-<span class="pl-smi">test_mod</span>.<span class="pl-smi">rs</span>   <span class="pl-c">// 模块主体</span>
	<span class="pl-smi">front_of_house</span>.<span class="pl-smi">rs</span> <span class="pl-c">// front_of_house的定义文件</span>
	<span class="pl-smi">test_a_mod</span>.<span class="pl-smi">rs</span>     <span class="pl-c">// test_a_mod的定义文件</span>
	<span class="pl-smi">lib</span>.<span class="pl-smi">rs</span>            <span class="pl-c">// 入口文件</span></pre></div>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// lib/src.rs
mod front_of_house;
mod test_a_mod;

pub use crate::front_of_house::hosting;
pub use crate::test_a_mod::test_mod;

pub fn eat_at_restaurant() {
    hosting::add_to_waitlist();
    hosting::add_to_waitlist();
    hosting::add_to_waitlist();

    test_mod::test_fn();
}"><pre><span class="pl-c">// lib/src.rs</span>
<span class="pl-k">mod</span> front_of_house;
<span class="pl-k">mod</span> test_a_mod;

<span class="pl-k">pub</span> <span class="pl-k">use</span> <span class="pl-k">crate</span><span class="pl-k">::</span>front_of_house<span class="pl-k">::</span>hosting;
<span class="pl-k">pub</span> <span class="pl-k">use</span> <span class="pl-k">crate</span><span class="pl-k">::</span>test_a_mod<span class="pl-k">::</span>test_mod;

<span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">eat_at_restaurant</span>() {
    hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();
    hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();
    hosting<span class="pl-k">::</span><span class="pl-en">add_to_waitlist</span>();

    test_mod<span class="pl-k">::</span><span class="pl-en">test_fn</span>();
}</pre></div>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// src/front_of_house/hosting.rs
pub fn add_to_waitlist() {}"><pre><span class="pl-c">// src/front_of_house/hosting.rs</span>
<span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">add_to_waitlist</span>() {}</pre></div>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// src/test_a_mod/test_mod.rs
pub fn test_fn() {}"><pre><span class="pl-c">// src/test_a_mod/test_mod.rs</span>
<span class="pl-k">pub</span> <span class="pl-k">fn</span> <span class="pl-en">test_fn</span>() {}</pre></div>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// src/front_of_house.rs
pub mod hosting;"><pre><span class="pl-c">// src/front_of_house.rs</span>
<span class="pl-k">pub</span> <span class="pl-k">mod</span> hosting;</pre></div>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// src/test_a_mod.rs
pub mod test_mod;"><pre><span class="pl-c">// src/test_a_mod.rs</span>
<span class="pl-k">pub</span> <span class="pl-k">mod</span> test_mod;</pre></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"html":"\u003ch2 dir=\"auto\"\u003eModule System\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eRust has a number of features that allow you to manage your code’s organization, including which details are exposed, which details are private, and what names are in each scope in your programs. These features, sometimes collectively referred to as the \u003cem\u003emodule system\u003c/em\u003e, include:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cstrong\u003ePackages:\u003c/strong\u003e A Cargo feature that lets you build, test, and share crates\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCrates:\u003c/strong\u003e A tree of modules that produces a library or executable\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eModules\u003c/strong\u003e and \u003cstrong\u003euse:\u003c/strong\u003e Let you control the organization, scope, and privacy of paths\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePaths:\u003c/strong\u003e A way of naming an item, such as a struct, function, or module\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003ch2 dir=\"auto\"\u003ePackages and Crates\u003c/h2\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://doc.rust-lang.org/book/ch07-01-packages-and-crates.html\" rel=\"nofollow\"\u003eref\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eA package \u003cem\u003emust\u003c/em\u003e contain zero or one library crates, and no more.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ cargo new my-project\n     Created binary (application) `my-project` package\n$ ls my-project\nCargo.toml\nsrc\n$ ls my-project/src\nmain.rs\n\"\u003e\u003cpre\u003e$ cargo new my-project\n     Created binary (application) \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003emy-project\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e package\n$ ls my-project\nCargo.toml\nsrc\n$ ls my-project/src\nmain.rs\n\u003c/pre\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eWhen we entered the command, Cargo created a \u003cem\u003eCargo.toml\u003c/em\u003e file, giving us a \u003cstrong\u003epackage\u003c/strong\u003e. Looking at the contents of \u003cem\u003eCargo.toml\u003c/em\u003e, there’s no mention of \u003cem\u003esrc/main.rs\u003c/em\u003e\u003cstrong\u003ebecause Cargo follows a convention that \u003cem\u003esrc/main.rs\u003c/em\u003e is the crate root of a binary crate with the same name as the package\u003c/strong\u003e. Likewise, Cargo knows that if the package directory contains \u003cem\u003esrc/lib.rs\u003c/em\u003e, the package contains a library crate with the same name as the package, and \u003cem\u003esrc/lib.rs\u003c/em\u003e is its crate root. Cargo passes the crate root files to \u003ccode class=\"notranslate\"\u003erustc\u003c/code\u003e to build the library or binary.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003esrc/main.rs是约定的binary入口\u003c/li\u003e\n\u003cli\u003esrc/lib.rs是约定的library入口\u003c/li\u003e\n\u003cli\u003e\u003cem\u003esrc/main.rs\u003c/em\u003e and \u003cem\u003esrc/lib.rs\u003c/em\u003e are called crate roots\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eHere, we have a package that only contains \u003cem\u003esrc/main.rs\u003c/em\u003e, meaning it only contains a binary crate named \u003ccode class=\"notranslate\"\u003emy-project\u003c/code\u003e. If a package contains \u003cem\u003esrc/main.rs\u003c/em\u003e and \u003cem\u003esrc/lib.rs\u003c/em\u003e, it has two crates: \u003cstrong\u003ea library and a binary\u003c/strong\u003e, both with the same name as the package. A package can have multiple binary crates by placing files in the \u003cem\u003esrc/bin\u003c/em\u003e directory: each file will be a separate binary crate.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ecrate可以理解是一个项目\u003c/li\u003e\n\u003cli\u003emod就是项目内的模块\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 dir=\"auto\"\u003eModules and Paths\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003ethe \u003ccode class=\"notranslate\"\u003euse\u003c/code\u003e keyword that brings a path into scope; and the \u003ccode class=\"notranslate\"\u003epub\u003c/code\u003e keyword to make items public.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eModules\u003c/em\u003e let us organize code within a crate into groups for readability and easy reuse. Modules also control the \u003cem\u003eprivacy\u003c/em\u003e of items, which is whether an item can be used by outside code (\u003cem\u003epublic\u003c/em\u003e) or is an internal implementation detail and not available for outside use (\u003cem\u003eprivate\u003c/em\u003e).\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode class=\"notranslate\"\u003ecargo new --lib restaurant\u003c/code\u003e创建一个lib\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"mod front_of_house {\n    pub mod hosting {\n        pub fn add_to_waitlist() {}\n    }\n}\n\npub fn eat_at_restaurant() {\n    // Absolute path\n    crate::front_of_house::hosting::add_to_waitlist();\n\n    // Relative path\n    front_of_house::hosting::add_to_waitlist();\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e front_of_house {\n    \u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e hosting {\n        \u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e() {}\n    }\n}\n\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eeat_at_restaurant\u003c/span\u003e() {\n    \u003cspan class=\"pl-c\"\u003e// Absolute path\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003ecrate\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003efront_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n\n    \u003cspan class=\"pl-c\"\u003e// Relative path\u003c/span\u003e\n    front_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n}\u003c/pre\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode class=\"notranslate\"\u003ecrate\u003c/code\u003e代表当前一个绝对路径的开始，代表当前文件？？\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e使用pub代表public\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e可以使用use来省略很长的路径\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"mod front_of_house {\n    pub mod hosting {\n        pub fn add_to_waitlist() {}\n    }\n}\n\nuse front_of_house::hosting; // hosting可以直接在当前scope访问\n\npub fn eat_at_restaurant() {\n    // Absolute path\n    crate::front_of_house::hosting::add_to_waitlist();\n\n    // Relative path\n    front_of_house::hosting::add_to_waitlist();\n\n    // use Use\n    hosting::add_to_waitlist();\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e front_of_house {\n    \u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e hosting {\n        \u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e() {}\n    }\n}\n\n\u003cspan class=\"pl-k\"\u003euse\u003c/span\u003e front_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting; \u003cspan class=\"pl-c\"\u003e// hosting可以直接在当前scope访问\u003c/span\u003e\n\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eeat_at_restaurant\u003c/span\u003e() {\n    \u003cspan class=\"pl-c\"\u003e// Absolute path\u003c/span\u003e\n    \u003cspan class=\"pl-k\"\u003ecrate\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003efront_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n\n    \u003cspan class=\"pl-c\"\u003e// Relative path\u003c/span\u003e\n    front_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n\n    \u003cspan class=\"pl-c\"\u003e// use Use\u003c/span\u003e\n    hosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e可以使用as来解决重复命名问题\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"use std::fmt::Result;\nuse std::io::Result as IoResult;\n\nfn function1() -\u0026gt; Result {\n    // --snip--\n}\n\nfn function2() -\u0026gt; IoResult\u0026lt;()\u0026gt; {\n    // --snip--\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-k\"\u003euse\u003c/span\u003e std\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003efmt\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-k\"\u003eResult\u003c/span\u003e;\n\u003cspan class=\"pl-k\"\u003euse\u003c/span\u003e std\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003eio\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-k\"\u003eResult\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eas\u003c/span\u003e IoResult;\n\n\u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003efunction1\u003c/span\u003e() -\u0026gt; \u003cspan class=\"pl-k\"\u003eResult\u003c/span\u003e {\n    \u003cspan class=\"pl-c\"\u003e// --snip--\u003c/span\u003e\n}\n\n\u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003efunction2\u003c/span\u003e() -\u0026gt; IoResult\u0026lt;()\u0026gt; {\n    \u003cspan class=\"pl-c\"\u003e// --snip--\u003c/span\u003e\n}\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 dir=\"auto\"\u003e分离文件\u003c/h2\u003e\n\u003cdiv class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"|- src\n  |- front_of_house // 模块文件夹\n    |-hosting.rs    // 模块主体\n  |- test_a_mod     // 模块文件夹\n    |-test_mod.rs   // 模块主体\n\tfront_of_house.rs // front_of_house的定义文件\n\ttest_a_mod.rs     // test_a_mod的定义文件\n\tlib.rs            // 入口文件\"\u003e\u003cpre\u003e|- \u003cspan class=\"pl-s1\"\u003esrc\u003c/span\u003e\n  |- \u003cspan class=\"pl-s1\"\u003efront_of_house\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e// 模块文件夹\u003c/span\u003e\n    |-\u003cspan class=\"pl-s1\"\u003ehosting\u003c/span\u003e.\u003cspan class=\"pl-s1\"\u003ers\u003c/span\u003e    \u003cspan class=\"pl-c\"\u003e// 模块主体\u003c/span\u003e\n  |- \u003cspan class=\"pl-s1\"\u003etest_a_mod\u003c/span\u003e     \u003cspan class=\"pl-c\"\u003e// 模块文件夹\u003c/span\u003e\n    |-\u003cspan class=\"pl-smi\"\u003etest_mod\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ers\u003c/span\u003e   \u003cspan class=\"pl-c\"\u003e// 模块主体\u003c/span\u003e\n\t\u003cspan class=\"pl-smi\"\u003efront_of_house\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ers\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e// front_of_house的定义文件\u003c/span\u003e\n\t\u003cspan class=\"pl-smi\"\u003etest_a_mod\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ers\u003c/span\u003e     \u003cspan class=\"pl-c\"\u003e// test_a_mod的定义文件\u003c/span\u003e\n\t\u003cspan class=\"pl-smi\"\u003elib\u003c/span\u003e.\u003cspan class=\"pl-smi\"\u003ers\u003c/span\u003e            \u003cspan class=\"pl-c\"\u003e// 入口文件\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// lib/src.rs\nmod front_of_house;\nmod test_a_mod;\n\npub use crate::front_of_house::hosting;\npub use crate::test_a_mod::test_mod;\n\npub fn eat_at_restaurant() {\n    hosting::add_to_waitlist();\n    hosting::add_to_waitlist();\n    hosting::add_to_waitlist();\n\n    test_mod::test_fn();\n}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// lib/src.rs\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e front_of_house;\n\u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e test_a_mod;\n\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003euse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ecrate\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003efront_of_house\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003ehosting;\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003euse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ecrate\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003etest_a_mod\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003etest_mod;\n\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eeat_at_restaurant\u003c/span\u003e() {\n    hosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n    hosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n    hosting\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e();\n\n    test_mod\u003cspan class=\"pl-k\"\u003e::\u003c/span\u003e\u003cspan class=\"pl-en\"\u003etest_fn\u003c/span\u003e();\n}\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// src/front_of_house/hosting.rs\npub fn add_to_waitlist() {}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// src/front_of_house/hosting.rs\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eadd_to_waitlist\u003c/span\u003e() {}\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// src/test_a_mod/test_mod.rs\npub fn test_fn() {}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// src/test_a_mod/test_mod.rs\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efn\u003c/span\u003e \u003cspan class=\"pl-en\"\u003etest_fn\u003c/span\u003e() {}\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// src/front_of_house.rs\npub mod hosting;\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// src/front_of_house.rs\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e hosting;\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// src/test_a_mod.rs\npub mod test_mod;\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e// src/test_a_mod.rs\u003c/span\u003e\n\u003cspan class=\"pl-k\"\u003epub\u003c/span\u003e \u003cspan class=\"pl-k\"\u003emod\u003c/span\u003e test_mod;\u003c/pre\u003e\u003c/div\u003e"},"__N_SSG":true},"page":"/post/[id]","query":{"id":"23"},"buildId":"wvpSY8D6DvySN1MN4mmgF","assetPrefix":"/blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>