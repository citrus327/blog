"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{108:function(e,t,n){n.r(t),n.d(t,{Equation:function(){return eL}});var l,r,a,o=n(9685),i=n(1356);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var s=(0,o.memo)(function(e){var t=e.children,n=e.math,l=e.block,r=e.errorColor,a=e.renderError,s=e.settings,u=e.as,m=function(e,t){if(null==e)return{};var n,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)t.indexOf(n=a[l])>=0||(r[n]=e[n]);return r}(e,["children","math","block","errorColor","renderError","settings","as"]),p=null!=t?t:n,d=(0,o.useState)({innerHtml:""}),g=d[0],h=d[1];return(0,o.useEffect)(function(){try{var e=i.Z.renderToString(p,c({displayMode:!!l,errorColor:r,throwOnError:!!a},s));h({innerHtml:e})}catch(t){if(!(t instanceof i.Z.ParseError||t instanceof TypeError))throw t;h(a?{errorElement:a(t)}:{innerHtml:t.message})}},[l,p,r,a,s]),"errorElement"in g?g.errorElement:o.createElement(u||(l?"div":"span"),Object.assign({},m,{dangerouslySetInnerHTML:{__html:g.innerHtml}}))}),u=n(8796),m=n(9469),p=n(358),d=n(6163),g=n(9900),h=n(2964),f=Object.create,v=Object.defineProperty,y=Object.defineProperties,E=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))N.call(t,n)&&_(e,n,t[n]);if(w)for(var n of w(t))x.call(t,n)&&_(e,n,t[n]);return e},P=(e,t)=>y(e,b(t)),L=(e,t)=>{var n={};for(var l in e)N.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&w)for(var l of w(e))0>t.indexOf(l)&&x.call(e,l)&&(n[l]=e[l]);return n},j=(e,t,n)=>new Promise((l,r)=>{var a=e=>{try{i(n.next(e))}catch(t){r(t)}},o=e=>{try{i(n.throw(e))}catch(t){r(t)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(a,o);i((n=n.apply(e,t)).next())}),M=(l={"../../node_modules/lodash.throttle/index.js"(e,t){var n="Expected a function",l=0/0,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,m=s||u||Function("return this")(),p=Object.prototype.toString,d=Math.max,g=Math.min,h=function(){return m.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&"[object Symbol]"==p.call(t))return l;if(f(e)){var t,n,s="function"==typeof e.valueOf?e.valueOf():e;e=f(s)?s+"":s}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=o.test(e);return u||i.test(e)?c(e.slice(2),u?2:8):a.test(e)?l:+e}t.exports=function(e,t,l){var r=!0,a=!0;if("function"!=typeof e)throw TypeError(n);return f(l)&&(r="leading"in l?!!l.leading:r,a="trailing"in l?!!l.trailing:a),function(e,t,l){var r,a,o,i,c,s,u=0,m=!1,p=!1,y=!0;if("function"!=typeof e)throw TypeError(n);function E(t){var n=r,l=a;return r=a=void 0,u=t,i=e.apply(l,n)}function b(e){var n=e-s,l=e-u;return void 0===s||n>=t||n<0||p&&l>=o}function C(){var e,n,l,r=h();if(b(r))return w(r);c=setTimeout(C,(e=r-s,n=r-u,l=t-e,p?g(l,o-n):l))}function w(e){return(c=void 0,y&&r)?E(e):(r=a=void 0,i)}function k(){var e,n=h(),l=b(n);if(r=arguments,a=this,s=n,l){if(void 0===c)return u=e=s,c=setTimeout(C,t),m?E(e):i;if(p)return c=setTimeout(C,t),E(s)}return void 0===c&&(c=setTimeout(C,t)),i}return t=v(t)||0,f(l)&&(m=!!l.leading,o=(p="maxWait"in l)?d(v(l.maxWait)||0,t):o,y="trailing"in l?!!l.trailing:y),k.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=s=a=c=void 0},k.flush=function(){return void 0===c?i:w(h())},k}(e,t,{leading:r,maxWait:t,trailing:a})}}},function(){return r||(0,l[C(l)[0]])((r={exports:{}}).exports,r),r.exports}),I=(e,t)=>{if(!e)return null;if(e.startsWith("data:")||e.startsWith("https://images.unsplash.com"))return e;try{let n=new URL(e);if(n.pathname.startsWith("/secure.notion-static.com")&&n.hostname.endsWith(".amazonaws.com")&&n.searchParams.has("X-Amz-Credential")&&n.searchParams.has("X-Amz-Signature")&&n.searchParams.has("X-Amz-Algorithm"))return e}catch(l){}e.startsWith("/images")&&(e=`https://www.notion.so${e}`),e=`https://www.notion.so${e.startsWith("/image")?e:`/image/${encodeURIComponent(e)}`}`;let r=new URL(e),a="space"===t.parent_table?"block":t.parent_table;return("collection"===a||"team"===a)&&(a="block"),r.searchParams.set("table",a),r.searchParams.set("id",t.id),r.searchParams.set("cache","v2"),e=r.toString()},S=e=>t=>(t=(t||"").replace(/-/g,""),e&&t===e)?"/":`/${t}`,z=(...e)=>e.filter(e=>!!e).join(" "),$=e=>e.includes("#")?e.replace(/^.+(#.+)$/,"$1"):"",R="undefined"!=typeof window,B=new Set(["youtu.be","youtube.com","www.youtube.com","youtube-nocookie.com","www.youtube-nocookie.com"]),H=e=>{try{let{hostname:t}=new URL(e);if(!B.has(t))return null;let n=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/i);if(n&&11==n[2].length)return n[2]}catch(l){}return null},T=function(e){return o.createElement("svg",O({viewBox:"0 0 260 260"},e),o.createElement("g",null,o.createElement("path",{d:"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z",fill:"#161614"})))},F=({block:e,inline:t,className:n})=>{var l,r,a;let i;let{components:c}=eO(),{original_url:s,attributes:m,domain:p}=(null==e?void 0:e.format)||{};if(!s||!m)return null;let d=null==(l=m.find(e=>"title"===e.id))?void 0:l.values[0],g=null==(r=m.find(e=>"owner"===e.id))?void 0:r.values[0],h=null==(a=m.find(e=>"updated_at"===e.id))?void 0:a.values[0],f=h?(0,u.c8)(h):null;if("github.com"!==p)return console.log(`Unsupported external_object_instance domain "${p}"`,JSON.stringify(e,null,2)),null;if(i=o.createElement(T,null),g){let v=g.split("/");g=v[v.length-1]}return o.createElement(c.Link,{target:"_blank",rel:"noopener noreferrer",href:s,className:z("notion-external",t?"notion-external-mention":"notion-external-block notion-row",n)},i&&o.createElement("div",{className:"notion-external-image"},i),o.createElement("div",{className:"notion-external-description"},o.createElement("div",{className:"notion-external-title"},d),(g||f)&&o.createElement("div",{className:"notion-external-subtitle"},g&&o.createElement("span",null,g),g&&f&&o.createElement("span",null," • "),f&&o.createElement("span",null,"Updated ",f))))},U=e=>R?o.createElement(p.Img,O({},e)):o.createElement("img",O({},e)),V=e=>{let{className:t}=e,n=L(e,["className"]);return o.createElement("svg",P(O({className:t},n),{viewBox:"0 0 30 30",width:"16"}),o.createElement("path",{d:"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z"}))},W=e=>{var t,n,l,{src:r,alt:a,className:i,style:c,zoomable:s=!1,priority:m=!1,height:p}=e,g=L(e,["src","alt","className","style","zoomable","priority","height"]);let{recordMap:h,zoom:f,previewImages:v,forceCustomImages:y,components:E}=eO(),b=o.useRef(f?f.clone():null),C=v?null!=(l=null==(t=null==h?void 0:h.preview_images)?void 0:t[r])?l:null==(n=null==h?void 0:h.preview_images)?void 0:n[(0,u.D5)(r)]:null,w=o.useCallback(e=>{s&&(e.target.src||e.target.srcset)&&b.current&&b.current.attach(e.target)},[b,s]),k=o.useCallback(e=>{b.current&&e&&b.current.attach(e)},[b]),N=o.useMemo(()=>s?k:void 0,[s,k]);if(C){let x=C.originalHeight/C.originalWidth;return E.Image?o.createElement(E.Image,{src:r,alt:a,style:c,className:i,width:C.originalWidth,height:C.originalHeight,blurDataURL:C.dataURIBase64,placeholder:"blur",priority:m,onLoad:w}):o.createElement(d.AZ,P(O({src:r},g),{experimentalDecode:!0}),({imageState:e,ref:t})=>{let n=e===d.zl.LoadSuccess,l={width:"100%"},s={};return p?l.height=p:(s.position="absolute",l.paddingBottom=`${100*x}%`),o.createElement("div",{className:z("lazy-image-wrapper",n&&"lazy-image-loaded",i),style:l},o.createElement("img",{className:"lazy-image-preview",src:C.dataURIBase64,alt:a,ref:t,style:c,decoding:"async"}),o.createElement("img",{className:"lazy-image-real",src:r,alt:a,ref:N,style:O(O({},c),s),width:C.originalWidth,height:C.originalHeight,decoding:"async",loading:"lazy"}))})}return E.Image&&y?o.createElement(E.Image,{src:r,alt:a,className:i,style:c,width:null,height:p||null,priority:m,onLoad:w}):o.createElement("img",O({className:i,style:c,src:r,alt:a,ref:N,loading:"lazy",decoding:"async"},g))},q=e=>"page"===e.type||"callout"===e.type||"collection_view"===e.type||"collection_view_page"===e.type,Z=({block:e,className:t,inline:n=!0,hideDefaultIcon:l=!1,defaultIcon:r})=>{var a;let{mapImageUrl:i,recordMap:c,darkMode:s}=eO(),p=!1,d=null;if(q(e)){let g=(null==(a=(0,u.Ck)(e,c))?void 0:a.trim())||r,h=(0,u.Ho)(e,c);if(g&&(0,m.Z)(g)){let f=i(g,e);p=!0,d=o.createElement(W,{src:f,alt:h||"page icon",className:z(t,"notion-page-icon")})}else g&&g.startsWith("/icons/")?d=o.createElement(W,{src:"https://www.notion.so"+g+"?mode="+(s?"dark":"light"),alt:h||"page icon",className:z(t,"notion-page-icon")}):g?(p=!1,d=o.createElement("span",{className:z(t,"notion-page-icon"),role:"img","aria-label":g},g)):l||(p=!0,d=o.createElement(V,{className:z(t,"notion-page-icon"),alt:h||"page icon"}))}return d?o.createElement("div",{className:z(n?"notion-page-icon-inline":"notion-page-icon-hero",p?"notion-page-icon-image":"notion-page-icon-span")},d):null},D=o.memo(Z),A=e=>{var t,n,{block:l,className:r,defaultIcon:a}=e,i=L(e,["block","className","defaultIcon"]);let{recordMap:c}=eO();if(!l)return null;if("collection_view_page"===l.type||"collection_view"===l.type){let s=(0,u.Ho)(l,c);return s?o.createElement("span",O({className:z("notion-page-title",r)},i),o.createElement(D,{block:l,defaultIcon:a,className:"notion-page-title-icon"}),o.createElement("span",{className:"notion-page-title-text"},o.createElement(Q,{value:[[s]],block:l}))):null}return(null==(t=l.properties)?void 0:t.title)?o.createElement("span",O({className:z("notion-page-title",r)},i),o.createElement(D,{block:l,defaultIcon:a,className:"notion-page-title-icon"}),o.createElement("span",{className:"notion-page-title-text"},o.createElement(Q,{value:null==(n=l.properties)?void 0:n.title,block:l}))):null},G=o.memo(A),Q=({value:e,block:t,linkProps:n,linkProtocol:l})=>{let{components:r,recordMap:a,mapPageUrl:i,mapImageUrl:c,rootDomain:s}=eO();return o.createElement(o.Fragment,null,null==e?void 0:e.map(([e,m],p)=>{if(!m)return","===e?o.createElement("span",{key:p,style:{padding:"0.5em"}}):o.createElement(o.Fragment,{key:p},e);let d=m.reduce((e,m)=>{var p,d,g,h,f;switch(m[0]){case"p":{let v=m[1],y=null==(p=a.block[v])?void 0:p.value;if(!y)return console.log('"p" missing block',v),null;return o.createElement(r.PageLink,{className:"notion-link",href:i(v)},o.createElement(G,{block:y}))}case"‣":{let E=m[1][0],b=m[1][1];if("u"===E){let C=null==(d=a.notion_user[b])?void 0:d.value;if(!C)return console.log('"‣" missing user',b),null;let w=[C.given_name,C.family_name].filter(Boolean).join(" ");return o.createElement(U,{className:"notion-user",src:c(C.profile_photo,t),alt:w})}{let k=null==(g=a.block[b])?void 0:g.value;if(!k)return console.log('"‣" missing block',E,b),null;return o.createElement(r.PageLink,P(O({className:"notion-link",href:i(b)},n),{target:"_blank",rel:"noopener noreferrer"}),o.createElement(G,{block:k}))}}case"h":return o.createElement("span",{className:`notion-${m[1]}`},e);case"c":return o.createElement("code",{className:"notion-inline-code"},e);case"b":return o.createElement("b",null,e);case"i":return o.createElement("em",null,e);case"s":return o.createElement("s",null,e);case"_":return o.createElement("span",{className:"notion-inline-underscore"},e);case"e":return o.createElement(r.Equation,{math:m[1],inline:!0});case"m":return e;case"a":{let N=m[1],x=N.substr(1),_=(0,u.q5)(x,{uuid:!0});if(!("/"===N[0]||N.includes(s))||!_)return o.createElement(r.Link,O({className:"notion-link",href:l?`${l}:${m[1]}`:m[1]},n),e);{let L=N.includes(s)?N:`${i(_)}${$(N)}`;return o.createElement(r.PageLink,O({className:"notion-link",href:L},n),e)}}case"d":{let j=m[1],M=null==j?void 0:j.type;if("date"===M){let I=j.start_date;return(0,u.p6)(I)}if("daterange"!==M)return e;{let S=j.start_date,z=j.end_date;return`${(0,u.p6)(S)} \u2192 ${(0,u.p6)(z)}`}}case"u":{let R=m[1],B=null==(h=a.notion_user[R])?void 0:h.value;if(!B)return console.log("missing user",R),null;let H=[B.given_name,B.family_name].filter(Boolean).join(" ");return o.createElement(U,{className:"notion-user",src:c(B.profile_photo,t),alt:H})}case"eoi":{let T=m[1],V=null==(f=a.block[T])?void 0:f.value;return o.createElement(F,{block:V,inline:!0})}default:return console.log("unsupported text format",m),e}},o.createElement(o.Fragment,null,e));return o.createElement(o.Fragment,{key:p},d)}))},X=e=>{let{className:t}=e,n=L(e,["className"]);return o.createElement("svg",O({className:z("notion-icon",t),viewBox:"0 0 17 17"},n),o.createElement("path",{d:"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"}))},J=((e,t,n,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of C(t))N.call(e,r)||void 0===r||v(e,r,{get:()=>t[r],enumerable:!(l=E(t,r))||l.enumerable});return e})(v(null!=(a=M())?f(k(a)):{},"default",{value:a,enumerable:!0}),a),K=e=>{let{className:t}=e,n=L(e,["className"]);return o.createElement("svg",P(O({className:z("notion-icon",t)},n),{viewBox:"0 0 30 30"}),o.createElement("path",{d:"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z"}))},Y=e=>{let{className:t}=e,n=L(e,["className"]);return o.createElement("svg",P(O({className:z("notion-icon",t)},n),{viewBox:"0 0 24 24"}),o.createElement("defs",null,o.createElement("linearGradient",{x1:"28.1542969%",y1:"63.7402344%",x2:"74.6289062%",y2:"17.7832031%",id:"linearGradient-1"},o.createElement("stop",{stopColor:"rgba(164, 164, 164, 1)",offset:"0%"}),o.createElement("stop",{stopColor:"rgba(164, 164, 164, 0)",stopOpacity:"0",offset:"100%"}))),o.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none"},o.createElement("g",{transform:"translate(-236.000000, -286.000000)"},o.createElement("g",{transform:"translate(238.000000, 286.000000)"},o.createElement("circle",{id:"Oval-2",stroke:"url(#linearGradient-1)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),o.createElement("path",{d:"M10,2 C4.4771525,2 0,6.4771525 0,12",id:"Oval-2",stroke:"rgba(164, 164, 164, 1)",strokeWidth:"4"}),o.createElement("rect",{id:"Rectangle-1",fill:"rgba(164, 164, 164, 1)",x:"8",y:"0",width:"4",height:"4",rx:"8"})))))},ee=class extends o.Component{constructor(e){super(e),this.state={isLoading:!1,query:"",searchResult:null,searchError:null},this._onAfterOpen=()=>{this._inputRef.current&&this._inputRef.current.focus()},this._onChangeQuery=e=>{let t=e.target.value;if(this.setState({query:t}),t.trim())this._search();else{this.setState({isLoading:!1,searchResult:null,searchError:null});return}},this._onClearQuery=()=>{this._onChangeQuery({target:{value:""}})},this._warmupSearch=()=>j(this,null,function*(){let{searchNotion:e,rootBlockId:t}=this.props;yield e({query:"",ancestorId:t})}),this._searchImpl=()=>j(this,null,function*(){let{searchNotion:e,rootBlockId:t}=this.props,{query:n}=this.state;if(!n.trim()){this.setState({isLoading:!1,searchResult:null,searchError:null});return}this.setState({isLoading:!0});let l=yield e({query:n,ancestorId:t});console.log("search",n,l);let r=null,a=null;if(l.error||l.errorId)a=l;else{r=O({},l);let o=r.results.map(e=>{var t,n;let l=null==(t=r.recordMap.block[e.id])?void 0:t.value;if(!l)return;let a=(0,u.Ho)(l,r.recordMap);if(a&&(e.title=a,e.block=l,e.recordMap=r.recordMap,e.page=(0,u.cj)(l,r.recordMap,{inclusive:!0})||l,e.page.id))return(null==(n=e.highlight)?void 0:n.text)&&(e.highlight.html=e.highlight.text.replace(/<gzkNfoUU>/gi,"<b>").replace(/<\/gzkNfoUU>/gi,"</b>")),e}).filter(Boolean),i=o.reduce((e,t)=>P(O({},e),{[t.page.id]:t}),{});r.results=Object.values(i)}this.state.query===n&&this.setState({isLoading:!1,searchResult:r,searchError:a})}),this._inputRef=o.createRef()}componentDidMount(){this._search=(0,J.default)(this._searchImpl.bind(this),1e3),this._warmupSearch()}render(){let{isOpen:e,onClose:t}=this.props,{isLoading:n,query:l,searchResult:r,searchError:a}=this.state,i=!!l.trim();return o.createElement(e_,null,c=>{let{components:s,defaultPageIcon:u,mapPageUrl:m}=c;return o.createElement(s.Modal,{isOpen:e,contentLabel:"Search",className:"notion-search",overlayClassName:"notion-search-overlay",onRequestClose:t,onAfterOpen:this._onAfterOpen},o.createElement("div",{className:"quickFindMenu"},o.createElement("div",{className:"searchBar"},o.createElement("div",{className:"inlineIcon"},n?o.createElement(Y,{className:"loadingIcon"}):o.createElement(X,null)),o.createElement("input",{className:"searchInput",placeholder:"Search",value:l,ref:this._inputRef,onChange:this._onChangeQuery}),l&&o.createElement("div",{role:"button",className:"clearButton",onClick:this._onClearQuery},o.createElement(K,{className:"clearIcon"}))),i&&r&&o.createElement(o.Fragment,null,r.results.length?o.createElement(ex,P(O({},c),{recordMap:r.recordMap}),o.createElement("div",{className:"resultsPane"},r.results.map(e=>{var t;return o.createElement(s.PageLink,{key:e.id,className:z("result","notion-page-link"),href:m(e.page.id,r.recordMap)},o.createElement(G,{block:e.page,defaultIcon:u}),(null==(t=e.highlight)?void 0:t.html)&&o.createElement("div",{className:"notion-search-result-highlight",dangerouslySetInnerHTML:{__html:e.highlight.html}}))})),o.createElement("footer",{className:"resultsFooter"},o.createElement("div",null,o.createElement("span",{className:"resultsCount"},r.total),1===r.total?" result":" results"))):o.createElement("div",{className:"noResultsPane"},o.createElement("div",{className:"noResults"},"No results"),o.createElement("div",{className:"noResultsDetail"},"Try different search terms"))),i&&!r&&a&&o.createElement("div",{className:"noResultsPane"},o.createElement("div",{className:"noResults"},"Search error"))))})}},et=({block:e})=>o.createElement("header",{className:"notion-header"},o.createElement("div",{className:"notion-nav-header"},o.createElement(en,{block:e}),o.createElement(el,{block:e}))),en=({block:e,rootOnly:t=!1})=>{let{recordMap:n,mapPageUrl:l,components:r}=eO(),a=o.useMemo(()=>{let l=(0,u.Kl)(n,e.id);return t?[l[0]].filter(Boolean):l},[n,e.id,t]);return o.createElement("div",{className:"breadcrumbs",key:"breadcrumbs"},a.map((e,t)=>{if(!e)return null;let n={},i={pageLink:r.PageLink};return e.active?i.pageLink=e=>o.createElement("div",O({},e)):n.href=l(e.pageId),o.createElement(o.Fragment,{key:e.pageId},o.createElement(i.pageLink,O({className:z("breadcrumb",e.active&&"active")},n),e.icon&&o.createElement(D,{className:"icon",block:e.block}),e.title&&o.createElement("span",{className:"title"},e.title)),t<a.length-1&&o.createElement("span",{className:"spacer"},"/"))}))},el=({block:e,search:t,title:n="Search"})=>{let{searchNotion:l,rootPageId:r,isShowingSearch:a,onHideSearch:i}=eO(),c=t||l,[s,u]=o.useState(a);o.useEffect(()=>{u(a)},[a]);let m=o.useCallback(()=>{u(!0)},[]),p=o.useCallback(()=>{u(!1),i&&i()},[i]);(0,g.y1)("cmd+p",e=>{m(),e.preventDefault(),e.stopPropagation()}),(0,g.y1)("cmd+k",e=>{m(),e.preventDefault(),e.stopPropagation()});let d=!!c;return o.createElement(o.Fragment,null,d&&o.createElement("div",{role:"button",className:z("breadcrumb","button","notion-search-button"),onClick:m},o.createElement(X,{className:"searchIcon"}),n&&o.createElement("span",{className:"title"},n)),s&&d&&o.createElement(ee,{isOpen:s,rootBlockId:r||(null==e?void 0:e.id),onClose:p,searchNotion:c}))},er=e=>Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&"),ea=({id:e,defaultPlay:t=!1,mute:n=!1,lazyImage:l=!1,iframeTitle:r="YouTube video",alt:a="Video preview",params:i={},adLinksPreconnect:c=!0,style:s,className:u})=>{let m=n||t?"1":"0",p=o.useMemo(()=>er(O({autoplay:"1",mute:m},i)),[m,i]),d=`https://i.ytimg.com/vi/${e}/hqdefault.jpg`,g="https://www.youtube-nocookie.com",h=`${g}/embed/${e}?${p}`,[f,v]=o.useState(!1),[y,E]=o.useState(t),[b,C]=o.useState(!1),w=o.useCallback(()=>{f||v(!0)},[f]),k=o.useCallback(()=>{y||E(!0)},[y]),N=o.useCallback(()=>{C(!0)},[]);return o.createElement(o.Fragment,null,o.createElement("link",{rel:"preload",href:d,as:"image"}),f&&o.createElement(o.Fragment,null,o.createElement("link",{rel:"preconnect",href:g}),o.createElement("link",{rel:"preconnect",href:"https://www.google.com"})),f&&c&&o.createElement(o.Fragment,null,o.createElement("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),o.createElement("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})),o.createElement("div",{onClick:k,onPointerOver:w,className:z("notion-yt-lite",b&&"notion-yt-loaded",y&&"notion-yt-initialized",u),style:s},o.createElement("img",{src:d,className:"notion-yt-thumbnail",loading:l?"lazy":void 0,alt:a}),o.createElement("div",{className:"notion-yt-playbtn"}),y&&o.createElement("iframe",{width:"560",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:r,src:h,onLoad:N})))},eo="undefined"==typeof window,ei=["video","image","embed","figma","typeform","excalidraw","maps","tweet","pdf","gist","codepen","drive"],ec=({block:e,zoomable:t=!0,children:n})=>{var l,r,a,i,c,s,m;let{recordMap:p,mapImageUrl:d,components:g}=eO();if(!e||!ei.includes(e.type))return null;let h={position:"relative",display:"flex",justifyContent:"center",alignSelf:"center",width:"100%",maxWidth:"100%",flexDirection:"column"},f={};if(e.format){let{block_aspect_ratio:v,block_height:y,block_width:E,block_full_width:b,block_page_width:C,block_preserve_scale:w}=e.format;if(b||C)b?h.width="100vw":h.width="100%","video"===e.type?y?h.height=y:v?h.paddingBottom=`${100*v}%`:w&&(h.objectFit="contain"):v&&"image"!==e.type?h.paddingBottom=`${100*v}%`:y?h.height=y:w&&("image"===e.type?h.height="100%":(h.paddingBottom="75%",h.minHeight=100));else{switch(null==(l=e.format)?void 0:l.block_alignment){case"center":h.alignSelf="center";break;case"left":h.alignSelf="start";break;case"right":h.alignSelf="end"}E&&(h.width=E),w&&"image"!==e.type?(h.paddingBottom="50%",h.minHeight=100):y&&"image"!==e.type&&(h.height=y)}"image"===e.type?f.objectFit="cover":w&&(f.objectFit="contain")}let k=(null==(r=p.signed_urls)?void 0:r[e.id])||(null==(c=null==(i=null==(a=e.properties)?void 0:a.source)?void 0:i[0])?void 0:c[0]),N=null;if(!k)return null;if("tweet"===e.type){if(!k)return null;let x=k.split("?")[0].split("/").pop();if(!x)return null;N=o.createElement("div",{style:P(O({},f),{maxWidth:420,width:"100%",marginLeft:"auto",marginRight:"auto"})},o.createElement(g.Tweet,{id:x}))}else if("pdf"===e.type)h.overflow="auto",h.background="rgb(226, 226, 226)",h.padding||(h.padding="8px 16px"),eo||(N=o.createElement(g.Pdf,{file:k}));else if("embed"===e.type||"video"===e.type||"figma"===e.type||"typeform"===e.type||"gist"===e.type||"maps"===e.type||"excalidraw"===e.type||"codepen"===e.type||"drive"===e.type){if("video"===e.type&&k&&0>k.indexOf("youtube")&&0>k.indexOf("youtu.be")&&0>k.indexOf("vimeo")&&0>k.indexOf("wistia")&&0>k.indexOf("loom")&&0>k.indexOf("videoask")&&0>k.indexOf("getcloudapp"))h.paddingBottom=void 0,N=o.createElement("video",{playsInline:!0,controls:!0,preload:"metadata",style:f,src:k,title:e.type});else{let _=(null==(s=e.format)?void 0:s.display_source)||k;if(_){let L="video"===e.type?H(_):null;L?N=o.createElement(ea,{id:L,style:f,className:"notion-asset-object-fit"}):"gist"===e.type?(_.endsWith(".pibb")||(_=`${_}.pibb`),f.width="100%",h.paddingBottom="50%",N=o.createElement("iframe",{style:f,className:"notion-asset-object-fit",src:_,title:"GitHub Gist",frameBorder:"0",loading:"lazy",scrolling:"auto"})):N=o.createElement("iframe",{className:"notion-asset-object-fit",style:f,src:_,title:`iframe ${e.type}`,frameBorder:"0",allowFullScreen:!0,loading:"lazy",scrolling:"auto"})}}}else if("image"===e.type){let j=d(k,e),M=(0,u.FB)(null==(m=e.properties)?void 0:m.caption);N=o.createElement(W,{src:j,alt:M||"notion image",zoomable:t,height:h.height,style:f})}return o.createElement(o.Fragment,null,o.createElement("div",{style:h},N,"image"===e.type&&n),"image"!==e.type&&n)},es={width:"100%"},eu=({blockId:e,block:t})=>{var n,l,r,a,i,c;let{components:s,mapPageUrl:m,rootDomain:p,zoom:d}=eO(),g=!1;if("image"===t.type){let h=null==(r=null==(l=null==(n=null==t?void 0:t.properties)?void 0:n.caption)?void 0:l[0])?void 0:r[0];if(h){let f=(0,u.q5)(h,{uuid:!0}),v="/"===h.charAt(0)&&f;(v||function(e){let t=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}(h))&&(g=!0)}}let y=o.createElement("figure",{className:z("notion-asset-wrapper",`notion-asset-wrapper-${t.type}`,(null==(a=t.format)?void 0:a.block_full_width)&&"notion-asset-wrapper-full",e)},o.createElement(ec,{block:t,zoomable:d&&!g},(null==(i=null==t?void 0:t.properties)?void 0:i.caption)&&!g&&o.createElement("figcaption",{className:"notion-asset-caption"},o.createElement(Q,{value:t.properties.caption,block:t}))));if(g){let E=null==(c=null==t?void 0:t.properties)?void 0:c.caption[0][0],b=(0,u.q5)(E,{uuid:!0}),C="/"===E.charAt(0)&&b,w=function(e){try{let t=new URL(e).hostname;return t}catch(n){return""}}(E);return o.createElement(s.PageLink,{style:es,href:C?m(b):E,target:w&&w!==p&&!E.startsWith("/")?"blank_":null},y)}return y},em=function(e){return o.createElement("svg",O({viewBox:"0 0 14 14"},e),o.createElement("path",{d:"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z"}))},ep=({isChecked:e})=>{let t=null;return t=e?o.createElement("div",{className:"notion-property-checkbox-checked"},o.createElement(em,null)):o.createElement("div",{className:"notion-property-checkbox-unchecked"}),o.createElement("span",{className:"notion-property notion-property-checkbox"},t)},ed=e=>o.memo(function(t){var{src:n,alt:l,width:r,height:a,className:i,style:c,layout:s}=t,u=L(t,["src","alt","width","height","className","style","layout"]);return s||(s=r&&a?"intrinsic":"fill"),o.createElement(e,O({className:i,src:n,alt:l,width:"intrinsic"===s&&r,height:"intrinsic"===s&&a,objectFit:null==c?void 0:c.objectFit,objectPosition:null==c?void 0:c.objectPosition,layout:s},u))},h),eg=e=>function(t){var{href:n,as:l,passHref:r,prefetch:a,replace:i,scroll:c,shallow:s,locale:u}=t,m=L(t,["href","as","passHref","prefetch","replace","scroll","shallow","locale"]);return o.createElement(e,{href:n,as:l,passHref:r,prefetch:a,replace:i,scroll:c,shallow:s,locale:u},o.createElement("a",O({},m)))},eh=e=>o.createElement("a",O({target:"_blank",rel:"noopener noreferrer"},e)),ef=o.memo(eh),ev=e=>o.createElement("a",O({},e)),ey=o.memo(ev),eE=e=>o.createElement(eu,O({},e)),eb=e=>()=>(console.warn(`Warning: using empty component "${e}" (you should override this in NotionRenderer.components)`),null),eC=(e,t)=>t(),ew={Image:null,Link:ef,PageLink:ey,Checkbox:ep,Callout:void 0,Code:eb("Code"),Equation:eb("Equation"),Collection:eb("Collection"),Property:void 0,propertyTextValue:eC,propertySelectValue:eC,propertyRelationValue:eC,propertyFormulaValue:eC,propertyTitleValue:eC,propertyPersonValue:eC,propertyFileValue:eC,propertyCheckboxValue:eC,propertyUrlValue:eC,propertyEmailValue:eC,propertyPhoneNumberValue:eC,propertyNumberValue:eC,propertyLastEditedTimeValue:eC,propertyCreatedTimeValue:eC,propertyDateValue:eC,Pdf:eb("Pdf"),Tweet:eb("Tweet"),Modal:eb("Modal"),Header:et,Embed:eE},ek={recordMap:{block:{},collection:{},collection_view:{},collection_query:{},notion_user:{},signed_urls:{}},components:ew,mapPageUrl:S(),mapImageUrl:I,searchNotion:null,isShowingSearch:!1,onHideSearch:null,fullPage:!1,darkMode:!1,previewImages:!1,forceCustomImages:!1,showCollectionViewDropdown:!0,linkTableTitleProperties:!0,isLinkCollectionToUrlProperty:!1,showTableOfContents:!1,minTableOfContentsItems:3,defaultPageIcon:null,defaultPageCover:null,defaultPageCoverPosition:.5,zoom:null},eN=o.createContext(ek),ex=e=>{var{components:t={},children:n,mapPageUrl:l,mapImageUrl:r,rootPageId:a}=e,i=L(e,["components","children","mapPageUrl","mapImageUrl","rootPageId"]);for(let c of Object.keys(i))void 0===i[c]&&delete i[c];let s=o.useMemo(()=>O({},t),[t]);for(let u of(s.nextImage&&(s.Image=ed(t.nextImage)),s.nextLink&&(s.nextLink=eg(t.nextLink)),Object.keys(s)))s[u]||delete s[u];let m=o.useMemo(()=>P(O(O({},ek),i),{rootPageId:a,mapPageUrl:null!=l?l:S(a),mapImageUrl:null!=r?r:I,components:O(O({},ew),s)}),[r,l,s,a,i]);return o.createElement(eN.Provider,{value:m},n)},e_=eN.Consumer,eO=()=>o.useContext(eN),eP={throwOnError:!1,strict:!1},eL=e=>{var{block:t,math:n,inline:l=!1,className:r}=e,a=L(e,["block","math","inline","className"]);let{recordMap:i}=eO();return(n=n||(0,u.Ho)(t,i))?o.createElement("span",{role:"button",tabIndex:0,className:z("notion-equation",l?"notion-equation-inline":"notion-equation-block",r)},o.createElement(s,O({math:n,settings:eP},a))):null}}}]);